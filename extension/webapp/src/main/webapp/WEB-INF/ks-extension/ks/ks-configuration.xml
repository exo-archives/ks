<?xml version="1.0" encoding="ISO-8859-1"?>

<configuration xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.exoplaform.org/xml/ns/kernel_1_0.xsd http://www.exoplaform.org/xml/ns/kernel_1_0.xsd"
  xmlns="http://www.exoplaform.org/xml/ns/kernel_1_0.xsd">

  <!-- 
  <component>
    <key>org.exoplatform.ks.common.user.ContactProvider</key>
    <type>org.exoplatform.ks.common.user.DefaultContactProvider</type>
  </component>
  -->
  <!--
    Use this provider to display CS contact information in forum profile
  -->
  <!--
    component>
    <key>org.exoplatform.forum.service.user.ContactProvider</key>
    <type>org.exoplatform.forum.provider.cs.CSContactProvider</type>
    </component>
  -->
  
  <!-- Use this provider to display personal information from the profile  -->
  <!-- 
  <component>
    <key>org.exoplatform.ks.common.user.ContactProvider</key>
    <type>org.exoplatform.ks.common.user.PersonalProfileContactProvider</type>
  </component>
   -->
   
   <!-- Use this provider to display business information from the profile  -->
   <!-- 
    <component>
    <key>org.exoplatform.ks.common.user.ContactProvider</key>
    <type>org.exoplatform.ks.common.user.BusinessProfileContactProvider</type>
  </component>
   -->
   
   


  
  <!-- TODO : remove the following services when when they'll be provided by platform -->
  <component>
    <key>org.exoplatform.services.jcr.ext.hierarchy.NodeHierarchyCreator</key>
    <type>org.exoplatform.services.jcr.ext.hierarchy.impl.NodeHierarchyCreatorImpl</type>
  </component>  
  
  
   <component>
     <type>org.exoplatform.services.scheduler.impl.QuartzSheduler</type>
   </component>
   
   <component>
      <type>org.exoplatform.services.scheduler.QueueTasks</type>
   </component>
   
  <component>
    <key>org.exoplatform.services.scheduler.JobSchedulerService</key>
    <type>org.exoplatform.services.scheduler.impl.JobSchedulerServiceImpl</type>
  </component>  



  <external-component-plugins>
    <target-component>org.exoplatform.services.organization.OrganizationService</target-component>
    <component-plugin>
      <name>forum.new.user.event.listener</name>
      <set-method>addListenerPlugin</set-method>
      <type>org.exoplatform.forum.service.conf.NewUserListener</type>
      <description>creates a profile in forum for each new user
      </description>
    </component-plugin>
  </external-component-plugins>
	
	<external-component-plugins>
    <target-component>org.exoplatform.services.organization.OrganizationService</target-component>
    <component-plugin>
      <name>forum.new.user.event.listener</name>
      <set-method>addListenerPlugin</set-method>
      <type>org.exoplatform.forum.service.conf.NewUserListener</type>
      <description>creates a profile in forum for each new user
      </description>
    </component-plugin>
  </external-component-plugins>
  
  <external-component-plugins>
   <target-component>org.exoplatform.services.scheduler.JobSchedulerService</target-component>
   <!--Forum send email notification configuration-->
    <component-plugin>
      <name>ForumSendNotificationJob</name>
      <set-method>addPeriodJob</set-method>
      <type>org.exoplatform.ks.common.notify.SendMailPeriodJob</type>
      <description>update logged in user information to forum service</description>
      <init-params>
      	<values-param>
          <name>containers</name>
          <description>The containers that this job will be working on</description>
          <value>portal</value>
          <value>ksdemo</value>
        </values-param>   
        <properties-param>
          <name>job.info</name>
          <description>save the monitor data  periodically</description>
          <property name="jobName" value="SendMailJob"/>
          <property name="groupName" value="KnowlegedSuite"/>
          <property name="job" value="org.exoplatform.forum.service.conf.SendMailJob"/>
          <property name="repeatCount" value="0"/>
          <property name="period" value="120000"/> <!-- 2 mins-->    
          <property name="startTime" value="+0"/>
          <property name="endTime" value=""/>               
        </properties-param>        
      </init-params>
    </component-plugin>
    
    <!--FAQ send email notification configuration-->
    <component-plugin>
      <name>FAQSendNotificationJob</name>
      <set-method>addPeriodJob</set-method>
      <type>org.exoplatform.ks.common.notify.SendMailPeriodJob</type>
      <description>update logged in user information to forum service</description>
      <init-params>
      	<values-param>
          <name>containers</name>
          <description>The containers that this job will be working on</description>
          <value>portal</value>
          <value>ksdemo</value>
        </values-param>   
        <properties-param>
          <name>job.info</name>
          <description>save the monitor data  periodically</description>
          <property name="jobName" value="NotifyJob"/>
          <property name="groupName" value="KnowlegedSuite"/>
          <property name="job" value="org.exoplatform.faq.service.notify.NotifyJob"/>
          <property name="repeatCount" value="0"/>
          <property name="period" value="120000"/> <!-- 2 mins-->    
          <property name="startTime" value="+0"/>
          <property name="endTime" value=""/>               
        </properties-param>        
      </init-params>
    </component-plugin>
  </external-component-plugins>  




  

  <!-- FAQ plugins -->


  <!--
    <component> <key>org.exoplatform.services.mail.MailService</key>
    <type>org.exoplatform.services.mail.impl.MailServiceImpl</type>
    <init-params> <properties-param> <name>config</name> <property
    name="mail.smtp.auth.username" value="exoservice@gmail.com" />
    <property name="mail.smtp.auth.password" value="exoadmin" />
    <property name="mail.smtp.host" value="smtp.gmail.com" /> <property
    name="mail.smtp.port" value="465" /> <property
    name="mail.smtp.starttls.enable" value="true" /> <property
    name="mail.smtp.auth" value="true" /> <property
    name="mail.smtp.debug" value="false" /> <property
    name="mail.smtp.socketFactory.port" value="465" /> <property
    name="mail.smtp.socketFactory.class"
    value="javax.net.ssl.SSLSocketFactory" /> <property
    name="mail.smtp.socketFactory.fallback" value="false" />
    </properties-param> </init-params> </component>
  -->
  <!--
    <component> <type>org.exoplatform.upload.UploadService</type>
    <init-params> <value-param> <name>upload.limit.size</name>
    <description>Maximum size of the file to upload in MB</description>
    <value>20</value> </value-param> </init-params> </component>
  -->

  <!-- Forum plugins -->

  <!--
    <component-plugin> <name>default.data</name>
    <set-method>addInitialDataPlugin</set-method>
    <type>org.exoplatform.forum.service.conf.InitializeForumPlugin</type>
    <description>description</description> <init-params> <object-param>
    <name>livedemo.default.configuration</name> <description>initial
    data for live demo</description> <object
    type="org.exoplatform.forum.service.conf.ForumInitialData"> <field
    name="categories"> <collection type="java.util.ArrayList"> <value>
    <object type="org.exoplatform.forum.service.conf.CategoryData">
    <field name="owner"> <string>root</string> </field> <field
    name="name"> <string>Knowledge Suite</string> </field> <field
    name="description"> <string>All about eXo KS</string> </field>
    <field name="forums"> <collection type="java.util.ArrayList">
    <value> <object type="org.exoplatform.forum.service.conf.ForumData">
    <field name="owner"><string>root</string></field> <field
    name="name"><string>Live demo</string></field> <field
    name="description"><string>Questions about this
    demo</string></field> <field name="topics"> <collection
    type="java.util.ArrayList"> <value> <object
    type="org.exoplatform.forum.service.conf.TopicData"> <field
    name="name"><string>Demo data policy</string></field> <field
    name="icon"><string>Shield</string></field> <field
    name="owner"><string>root</string></field> <field
    name="content"><string> Welcome to eXo Knowledge Suite live
    demo!\n\n\n We hope you enjoy discovering eXo Forum and FAQ
    applications features. You don't need to be logged in to see the
    applications in action. But the power of KS lies in the rich set of
    admin/moderation features.\n\n We didn't want you to miss them so,
    when you [b][url="/portal/public/classic/register"]create a demo
    account[/url][/b], you will be granted full permissions. Anybody can
    become an administrator or a moderator and play in the sandbox!\n As
    a consequence, the data for this forum (including the accounts) is
    not meant to stay.\n\n [b][center]WE MAY RESET FORUMS AND FAQS
    ANYTIME[/center][/b]\n\n Enjoy and don't forget to send feedback at
    [email]ks@exoplatform.com[/email]</string></field> </object>
    </value> </collection> </field> </object> </value> </collection>
    </field> </object> </value> </collection> </field> </object>
    </object-param> </init-params> </component-plugin>
  -->


</configuration>