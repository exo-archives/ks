<?xml version="1.0" encoding="ISO-8859-1"?>

<configuration xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.exoplaform.org/xml/ns/kernel_1_0.xsd http://www.exoplaform.org/xml/ns/kernel_1_0.xsd"
  xmlns="http://www.exoplaform.org/xml/ns/kernel_1_0.xsd">

  <!--
  <component>
    <key>org.exoplatform.ks.common.user.ContactProvider</key>
    <type>org.exoplatform.ks.common.user.DefaultContactProvider</type>
  </component>
  -->
  <!--
    Use this provider to display CS contact information in forum profile
  -->
  <!--
    component>
    <key>org.exoplatform.forum.service.user.ContactProvider</key>
    <type>org.exoplatform.forum.provider.cs.CSContactProvider</type>
    </component>
  -->

  <!-- Use this provider to display personal information from the profile  -->
  <!--
  <component>
    <key>org.exoplatform.ks.common.user.ContactProvider</key>
    <type>org.exoplatform.ks.common.user.PersonalProfileContactProvider</type>
  </component>
   -->

   <!-- Use this provider to display business information from the profile  -->
   <!--
    <component>
    <key>org.exoplatform.ks.common.user.ContactProvider</key>
    <type>org.exoplatform.ks.common.user.BusinessProfileContactProvider</type>
  </component>
   -->


  <component>
    <key>org.exoplatform.ks.common.jcr.KSDataLocation</key>
    <type>org.exoplatform.ks.common.jcr.KSDataLocation</type>
    <description>Holds JCR storage location for KS data</description>
    <init-params>
      <!--value-param>
        <name>repository</name>
        <description>JCR repository for KS data</description>
        <value>repository</value>
      </value-param-->
      <value-param>
        <name>workspace</name>
        <description>workspace for KS data</description>
        <value>knowledge</value>
      </value-param>
    </init-params>
  </component>

  <component>
    <key>org.exoplatform.ks.rendering.MarkupRenderingService</key>
    <type>org.exoplatform.ks.rendering.MarkupRenderingService</type>
  </component>


    <component>
    <type>org.exoplatform.ks.rss.FeedResolver</type>
    <init-params>
      <value-param>
        <name>defaultProvider</name>
        <description>the default provider used when no app type matches</description>
        <value>org.exoplatform.ks.rss.ForumUserFeedProvider</value>
      </value-param>
      <properties-param>
      <name>providers</name>
      <description>feed providers indexed by appType</description>
      <property name="faq" value="org.exoplatform.ks.rss.AnswersFeedGenerator"/>
      <property name="forum" value="org.exoplatform.ks.rss.ForumFeedGenerator"/>
      </properties-param>
    </init-params>
  </component>


  <!-- TODO : remove the following services when when they'll be provided by platform -->
  <component>
    <key>org.exoplatform.services.jcr.ext.hierarchy.NodeHierarchyCreator</key>
    <type>org.exoplatform.services.jcr.ext.hierarchy.impl.NodeHierarchyCreatorImpl</type>
  </component>


   <component>
     <type>org.exoplatform.services.scheduler.impl.QuartzSheduler</type>
   </component>

   <component>
      <type>org.exoplatform.services.scheduler.QueueTasks</type>
   </component>

  <component>
    <key>org.exoplatform.services.scheduler.JobSchedulerService</key>
    <type>org.exoplatform.services.scheduler.impl.JobSchedulerServiceImpl</type>
  </component>

 


  <external-component-plugins>
    <target-component>org.exoplatform.services.organization.OrganizationService</target-component>
    <component-plugin>
      <name>forum.new.user.event.listener</name>
      <set-method>addListenerPlugin</set-method>
      <type>org.exoplatform.forum.service.conf.NewUserListener</type>
      <description>creates a profile in forum for each new user
      </description>
    </component-plugin>
  </external-component-plugins>

	<external-component-plugins>
    <target-component>org.exoplatform.services.organization.OrganizationService</target-component>
    <component-plugin>
      <name>forum.new.user.event.listener</name>
      <set-method>addListenerPlugin</set-method>
      <type>org.exoplatform.forum.service.conf.NewUserListener</type>
      <description>creates a profile in forum for each new user</description>

      <init-params>
        <properties-param>
          <name>user.profile.setting</name>
          <description>set default user profile</description>
          <property name="timeZone" value="GMT"/>
          <property name="shortDateFormat" value="MM/dd/yyyy"/>
          <property name="longDateFormat" value="DDD,MMM dd,yyyy"/>
          <property name="timeFormat" value="hh:mm a"/>
          <property name="maxTopic" value="10"/>
          <property name="maxPost" value="10"/>
          <property name="isShowForumJump" value="true"/>

        </properties-param>
      </init-params>


    </component-plugin>
  </external-component-plugins>

  <external-component-plugins>
   <target-component>org.exoplatform.services.scheduler.JobSchedulerService</target-component>
   <!--Forum send email notification configuration-->
    <component-plugin>
      <name>ForumSendNotificationJob</name>
      <set-method>addPeriodJob</set-method>
      <type>org.exoplatform.ks.common.notify.SendEmailPeriodJob</type>
      <description>update logged in user information to forum service</description>
      <init-params>
        <properties-param>
          <name>job.info</name>
          <description>save the monitor data  periodically</description>
          <property name="jobName" value="SendMailJob"/>
          <property name="groupName" value="KnowlegedSuite"/>
          <property name="job" value="org.exoplatform.forum.service.conf.SendMailJob"/>
          <property name="repeatCount" value="0"/>
          <property name="period" value="120000"/> <!-- 2 mins-->
          <property name="startTime" value="+0"/>
          <property name="endTime" value=""/>
        </properties-param>
        <properties-param>
        	<name>email.info</name>
        	<description>Email default for send notification.</description>
          <property name="emailDefault" value="noreply@exoplatform.com"/>
        </properties-param>
      </init-params>
    </component-plugin>

    <!--FAQ send email notification configuration-->
    <component-plugin>
      <name>FAQSendNotificationJob</name>
      <set-method>addPeriodJob</set-method>
      <type>org.exoplatform.ks.common.notify.SendEmailPeriodJob</type>
      <description>update logged in user information to forum service</description>
      <init-params>
        <properties-param>
          <name>job.info</name>
          <description>save the monitor data  periodically</description>
          <property name="jobName" value="NotifyJob"/>
          <property name="groupName" value="KnowlegedSuite"/>
          <property name="job" value="org.exoplatform.faq.service.notify.NotifyJob"/>
          <property name="repeatCount" value="0"/>
          <property name="period" value="120000"/> <!-- 2 mins-->
          <property name="startTime" value="+0"/>
          <property name="endTime" value=""/>
        </properties-param>
        <properties-param>
        	<name>email.info</name>
        	<description>Email default for send notification.</description>
          <property name="emailDefault" value="noreply@exoplatform.com"/>
        </properties-param>
      </init-params>
    </component-plugin>
  </external-component-plugins>


</configuration>