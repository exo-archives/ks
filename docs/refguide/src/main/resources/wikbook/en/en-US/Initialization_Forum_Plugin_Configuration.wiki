h1. Overview

The Initialization plug-in component defines the default forum data in the_.xml_ file, including categories, forums, topics and posts.

When the ForumService runs, it will get values which are returned from the Initialization plug-in component to initialize default data of Forum.

h1. Configuration

h2. Default forum data

The default forum data is configured in the _war:webapp/WEB-INF/conf/ksdemo/ks/services-configuration.xml_ file.

In particular, at runtime of ForumService, the Initialization plug-in component is called, then the _services-configuration.xml_ file is executed. The component-plugin named _addInitialDataPlugin_ will refer to _org.exoplatform.forum.service.conf.InitializeForumPlugin_ to execute some objects to create default data for the Forum application. 

{code:xml}
   <component-plugin>
      <name>default.data</name>
      <set-method>addInitialDataPlugin</set-method>
      <type>org.exoplatform.forum.service.conf.InitializeForumPlugin</type>
      <description>description</description>
      <init-params>
        <object-param>
          <name>livedemo.default.configuration</name>
          <description>initial data for live demo</description>
          <object type="org.exoplatform.forum.service.conf.ForumInitialData">
            <field name="categories">
              <collection type="java.util.ArrayList">
                <value>
                  <object type="org.exoplatform.forum.service.conf.CategoryData">
                    <field name="owner">
                      <string>root</string>
                    </field>
                    <field name="name">
                      <string>Knowledge Suite</string>
                    </field>
                    <field name="description">
                      <string>All about eXo KS</string>
                    </field>
                    <field name="forums">
                      <collection type="java.util.ArrayList">
                        <value>
                          <object type="org.exoplatform.forum.service.conf.ForumData">
                            <field name="owner"><string>root</string></field>
                            <field name="name"><string>Live demo</string></field>
                            <field name="description"><string>Questions about this demo</string></field>
                            <field name="topics">
                              <collection type="java.util.ArrayList">
                                <value>
                                  <object type="org.exoplatform.forum.service.conf.TopicData">
                                    <field name="name"><string>Demo data policy</string></field>
                                    <field name="icon"><string>Shield</string></field>
                                    <field name="owner"><string>root</string></field>
                                    <field name="content"><string>
                                    Welcome to eXo Knowledge Suite live demo!\n\n\n 

                                    We hope you enjoy discovering eXo Forum and FAQ applications features. 
                                    You don't need to be logged in to see the applications in action. But the power of KS lies in the rich set of admin/moderation features.\n\n
                                    We didn't want you to miss them so, when you [b][url="/portal/public/classic/register"]create a demo account[/url][/b], you will be granted full permissions.
                                    Anybody can become an administrator or a moderator and play in the sandbox!\n
                                    As a consequence, the data for this forum (including the accounts) is not meant to stay.\n\n
                                    [b][center]WE MAY RESET FORUMS AND FAQS ANYTIME[/center][/b]\n\n
                                    Enjoy and don't forget to send feedback at [email]ks@exoplatform.com[/email]</string></field>
                                  </object>
                                </value>
                              </collection>
                            </field>
                          </object>
                        </value>
                      </collection>
                    </field>
                  </object>
                </value>
              </collection>
            </field>
          </object>
        </object-param>
      </init-params>
    </component-plugin>
{code}

* In which,
|| Name || Set-method || Type || Description ||
| *default.data* | addInitialDataPlugin | org.exoplatform.forum.service.conf.InitializeForumPlugin | The initial default data of Forum. |

* Init-param
|| Name || Possible value || Default value || Description |
| *livedemo.default.configuration* | {{object}} | {{org.exoplatform.forum.service.conf.ForumInitialData}} || The initial data for live demo. |
  

* Category array

After the _org.exoplatform.forum.service.conf.InitializeForumPlugin_ object is executed, the _org.exoplatform.forum.service.conf.ForumInitialData_ object is called. It returns a category array. The value of category array is defined by the _org.exoplatform.forum.service.conf.CategoryData_ object as below:

{code:xml}
  <object-param>
               <name>livedemo.default.configuration</name>
               <description>initial data for live demo</description>
               <object type="org.exoplatform.forum.service.conf.ForumInitialData">
                  <field name="categories">
                     <collection type="java.util.ArrayList">
                        <value>
                           <object type="org.exoplatform.forum.service.conf.CategoryData">
                              <field name="owner">
                                 <string>root</string>
                              </field>
                              <field name="name">
                                 <string>Knowledge Suite</string>
                              </field>
                              <field name="description">
                                 <string>All about eXo KS</string>
                              </field>
                            ...
                          </object>
                       </value>
                     </collection>
                   </field>
                </object>
    </object-param>
{code}

# Category includes some basic data which are defined in the _field_ tag with a specific name as below:

{code:xml}                              
         <field name="owner">
         <string>root</string>
         </field>
         <field name="name">
         <string>Knowledge Suite</string>
         </field>
         <field name="description">
         <string>All about eXo KS</string>
         </field>
{code}

In which:


|| Field || Possible value || Default value || Description ||
| *owner* | {{user id}} | {{root}} | The user who is the creator of category. |
| *name* | {{string}} | {{Knowledge Suite}} | The title of category. | 
| *description* | {{string}} | {{ All about eXo KS}} | The brief description of category. | 


* Modify values of Category

Values of the default category can be changed by changing text values in the ~~string~~ tag of each ~~field~~ by the other one.
In the sample code above, the ~~org.exoplatform.forum.service.conf.CategoryData~~ object is called. It means that only one default category is defined. If you want to define more default categories, repeat calling ~~org.exoplatform.forum.service.conf.CategoryData~~ object and define values for the new category with the sample code as below:


{code:xml}
     <value>
        <object type="org.exoplatform.forum.service.conf.CategoryData">
        <field name= " ">                             
           ...  
        </field> 
        </object>
      </value>
{code}

h2. Forum array

# Category may contain one or more forums. The value of Forum is defined in the _forums_ field. It returns a forum array. The value of forum array is defined by the _org.exoplatform.forum.service.conf.ForumData_ object as below:

{code:xml}
    <field name="forums">
       <collection type="java.util.ArrayList">
       <value>
       <object type="org.exoplatform.forum.service.conf.ForumData">
         <field name="owner"><string>root</string></field>
         <field name="name"><string>Live demo</string></field>
         <field name="description"><string>Questions about this demo</string></field>
              ...
       </object>
       </value>
       </collection>
    </field>
{code}

- Basic forum data

Forum includes some basic data which are defined in the ~~field~~ tag with the specific name as above.

In which:

|| Field || Possible value || Default value || Description ||
| *owner* | {{user id}} | {{root}} | The creator of default forum. |
| *name* | {{string}} | {{Live demo}} | The name or title of default forum. | 
| *description* | {{string}} | {{Questions about this demo}} | The brief description of default forum. |

The values of default forum can be changed by changing text values in ~~string~~ tag of each ~~field~~ by the other one.

In the sample code above, ~~org.exoplatform.forum.service.conf.ForumData~~ object is called only one time. It means that only one default forum is defined inside the default category named ~~Knowledge Suite~~. If you want to define more default forums, repeat calling the ~~org.exoplatform.forum.service.conf.ForumData~~ object and define values for the new forum with the sample code as below:

{code:xml}
    <value>
      <object type="org.exoplatform.forum.service.conf.ForumData">
      <field name=" ">
              ...
      </field>
      </object>
    </value>
{code}

h2. Forum topics

# Forum may contain one or more topics. The value of topic is defined in the _topics_ field. It returns a topic array. The value of topic array is defined by the _org.exoplatform.forum.service.conf.TopicData_ object as below:

{code:xml}
    <field name="topics">
       <collection type="java.util.ArrayList">
       <value>
         <object type="org.exoplatform.forum.service.conf.TopicData">
             <field name="name"><string>Demo data policy</string></field>
             <field name="icon"><string>Tux</string></field>
             <field name="owner"><string>root</string></field>
             <field name="content"><string>Welcome to eXo Forum live demo. ... at anytime.</string></field>
                   ...
       </object>
       </value>
       </collection>
    </field>
{code}

A topic includes some basic data which are defined in the ~~field~~ tag with a specific name as above.


In which:

|| Field || Possible value || Default value || Description ||
| *name* | {{string}} | {{Demo data policy}} | The name or title of default topic. |
| *icon* | {{string}}| {{Tux}} | The default icon of default topic. |
| *owner* | {{user id}} | {{root }} | The creator of default topic. |
| *content* | {{string}} | {{Welcome to eXo Forum live demo...at anytime.}} | The main content of default topic. |

The values of default topic can be changed by changing text values in ~~string~~ tag of each ~~field~~.

With the sample code above, ~~org.exoplatform.forum.service.conf.TopicData~~ object is called only one time. It means that only one default topic is defined inside the default forum named ~~Live demo~~. If you want to define more default topics, repeat calling ~~org.exoplatform.forum.service.conf.TopicData~~ object and define values for the new topic with the sample code as below:

{code:xml}
      <value>
        <object type="org.exoplatform.forum.service.conf.TopicData">
        <field name=" ">
                    ...
        </field> 
        </object>
      </value>
{code}

# Topic may contain one or more posts. The value of the post is defined in _posts_ field. It returns a post array. The value of the post array is defined by _org.exoplatform.forum.service.conf.PostData_ object as below:

{code:xml}
    <field name="posts">
      <collection type="java.util.ArrayList">
      <value>
        <object type="org.exoplatform.forum.service.conf.PostData">
        <field name="name"><string>Reply: Demo data policy</string></field>
        <field name="icon"><string>IconsView</string></field>
        <field name="owner"><string>root</string></field>
        <field name="content"><string>Enjoy and don't forget to send feedback at ks@exoplatform.com</string></field>
              ...
       </object>
       </value>
       </collection>
    </field>
{code}

A post includes some basic data which are defined in the _field_ tag with a specific name as above.

In which:

|| Field || Possible value || Default value || Description || 
| *name* | {{string}} | {{Reply: Demo data policy}} | The name or title of default post.|
| *icon* | {{string}} | {{IconsView }} | The default icon of default post.|
| *ownwer* | {{user id}} | {{root}} | The creator of default post.|
| *content* | {{string}} | {{Enjoy and don't forget to send feedback at ks@exoplatform.com }} | The main content of default post.|

The values of default post can be changed by changing text values in _string_ tag of each _field_.

With the sample code above, the _org.exoplatform.forum.service.conf.PostData_ object is called only one time. It means that only one default post is defined inside the default topic named _Demo data policy_. If you want to define more default posts, repeat calling _org.exoplatform.forum.service.conf.PostData_ object and define values for the new post with the sample code as below:

{code:xml}
       <value>
         <object type="org.exoplatform.forum.service.conf.PostData">
         <field name=" ">
               ...
         </field> 
        </object>
       </value>
{code}


By fault, the default forum data can only be changed by editing in the _services-configuration.xml_ file.

At runtime, the new changes in the _services-configuration.xml_ file will be executed and updated, the default forum data will be created correspondingly.
