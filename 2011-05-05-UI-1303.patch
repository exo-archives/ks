Index: eXoApplication/forum/webapp/src/main/webapp/skin/DefaultSkin/webui/Stylesheet.css
===================================================================
--- eXoApplication/forum/webapp/src/main/webapp/skin/DefaultSkin/webui/Stylesheet.css	(revision 68710)
+++ eXoApplication/forum/webapp/src/main/webapp/skin/DefaultSkin/webui/Stylesheet.css	(working copy)
@@ -14,6 +14,44 @@
 @import url('UISliderControl/Stylesheet.css') ;
 @import url('UIForumPortletInfo/Stylesheet.css') ;
 
+.FL{
+	float: left;
+}
+
+.FR{
+	float: right;
+}
+
+h6{
+	font-size: 12px;
+}
+
+h5{
+	font-size: 14px;
+}
+
+h4{
+	font-size: 16px;
+}
+
+h3{
+	font-size: 18px;
+}
+
+h2{
+	font-size: 20px;
+}
+
+h1{
+	font-size: 22px;
+}
+
+ul,li{
+	margin: 0px;
+	padding: 0px;
+	list-style-type: none;
+}
+
 .UIWindow .UIForumPortlet {
 	margin:0px;
 	border:none;
@@ -74,9 +112,12 @@
 	white-space: nowrap;
 }
 
+.UIForumPortlet .UIRightClickPopupMenu .MenuItem:hover {
+	background-color: #DEE4F2;
+} 
+
 .UIForumPortlet .UIRightClickPopupMenu .ItemIcon:hover {
 	color: orange;
-	background-color: #DEE4F2;
 } 
 
 *html .UIForumPortlet .ForumToolbar .UIRightClickPopupMenu .ItemIcon {
@@ -110,7 +151,7 @@
 
 /**************************** UIActionForum *********************************/
 .UIForumPortlet .UIActionForum {
-	padding:2px 3px;
+	padding:0px;
 }
 
 .UIForumPortlet .UIForumLinks .UIActionForum {
@@ -122,39 +163,43 @@
 }
  
 .UIForumPortlet .UIActionForum .NormalStyle {
+	background:url('background/buttons/BntNormalStyle.gif') repeat-x top;
+	padding: 0px 4px;
+	border-radius: 4px;
+	-moz-border-radius: 4px;
+	-webkit-border-radius: 4px;
+	border: 1px solid #4d67aa;
+	line-height:16px;
+	-moz-box-shadow: 1px 1px 2px #b3b3b3;
+	-webkit-box-shadow: 1px 1px 2px #b3b3b3;
+	box-shadow: 1px 1px 2px #b3b3b3;
+	margin: 0px 0px 0px 3px;
 }
- 
-.UIForumPortlet .UIActionForum .NormalStyle .ButtonLeft {
-	background:url('background/buttons/LeftNormalStyleButton7x22.gif') no-repeat left top;
-	padding:0px 0px 0px 7px;
-}
 
-.UIForumPortlet .UIActionForum .NormalStyle .ButtonRight {
-	background:url('background/buttons/RightNormalStyleButton7x22.gif') no-repeat right top;
-	padding:0px 7px 0px 0px ;
-}
-
-.UIForumPortlet .UIActionForum .NormalStyle .ButtonMiddle {
-	line-height:18px;
-	background:url('background/buttons/MiddleNormalStyleButton1x22.gif') repeat-x top;
-}
-
-.UIForumPortlet .UIActionForum .NormalStyle .IconButton {
+.UIForumPortlet .IconButton {
 	background-repeat:no-repeat;
 	padding:0px 3px 0px 20px;
 	cursor:pointer;
-	height: 20px;
+	line-height:18px;
 }
 
 .UIForumPortlet .LockActionForum .NormalStyle .IconButton {
 	cursor:default;
 }
 
-.UIForumPortlet .UIActionForum .NormalStyle .LabelIcon {
-	line-height:18px;
+/**************************** UIForumPortlet ForumToolBar *********************************/
+.UIForumPortlet .NormalButtomBT {
+	background:url('background/buttons/NormalButtonForum.gif') repeat-x top;
+	padding: 0px 4px;
+	border-radius: 4px;
+	-moz-border-radius: 4px;
+	-webkit-border-radius: 4px;
+	border: 1px solid #707070;
+	line-height:16px;
+	margin: 0px 0px 0px 4px;
+	white-space: nowrap;
 }
 
-/**************************** UIForumPortlet ForumToolBar *********************************/
 .UIForumPortlet .UIActionForum .NormalButtom {
 	margin:0px;
 }
@@ -175,7 +220,15 @@
 }
 
 /**************************** UIForumPortlet ForumToolBar *********************************/
-.UIForumPortlet .ForumToolbar {
+.UIForumPortlet .ForumActionToolbar {
+	background:url(background/ForumActionToolBar.gif) repeat-x;
+	border: 1px solid #c7c7c7;
+	border-radius: 3px 3px 0px 0px;
+	-moz-border-radius: 3px 3px 0px 0px;
+	-webkit-border-radius: 3px 3px 0px 0px;
+	padding: 1px 10px;
+	height: 26px;
+	border-bottom: none;
 }
 
 .UIForumPortlet .ForumToolbar .CollapseButton {
@@ -235,10 +288,11 @@
 
 .UIForumPortlet .ForumToolbar .UIPopupCategory {
 	left:0px;
-	position:absolute;
+	position:relative;
 	top:auto;
 	width:auto;
 	z-index:4;
+	float: left;
 }
 
 .UIForumPortlet .ForumToolbar .UIRightClickPopupMenu .LineMenu {
@@ -259,6 +313,12 @@
 .UIForumPortlet .UIForumActionBar .DisableAction a:hover {
 	color: gray;
 }
+
+.UIForumPortlet .UIRightClickPopupMenu ul {
+	list-style: none;
+	padding: 0px;
+	margin: 5px 0px;
+}
 /******************************	OverButton	***************************************/
 .UIForumPortlet .UITopicContainer .DefaultStyle {
 	border-top:1px solid #d8d8d8;
@@ -284,6 +344,14 @@
 	padding-right: 5px;
 }
 
+.UIForumPortlet .DefaultStyle .OverButton {
+	padding:0px 5px;
+}
+
+.UIForumPortlet .Forum {
+	margin-bottom: 1px;
+}
+
 .UIForumPortlet .ButtonHeadBar {
 	float:right; 
 	text-align:left; 
@@ -293,6 +361,14 @@
 	cursor:pointer;
 }
 
+.UIForumContainer .ForumToolbar .Forum .StatusIcon {
+	margin-top: 1px;
+}
+
+.UIForumContainer .ForumToolbar .ForumAction .StatusIcon {
+	margin-top: 0px;
+}
+
 *html .UIForumPortlet .ButtonHeadBar {
 	width:90px; 
 }
@@ -314,6 +390,13 @@
 	background:url('background/CenterOverButton1x22.gif') repeat-x top;
 	line-height:22px;
 }
+
+.UIForumPortlet .ForumAction .OverButton {
+	background:url('background/OverButton1x22.gif') repeat-x top;
+	line-height:20px;
+	border: 1px solid #afafaf;
+	padding: 0px 4px;
+}
 /*ForumBarAction*/
 .UIForumPortlet .ForumBar {
 	background:none;
@@ -450,12 +533,13 @@
 
 .UIForumPortlet .ContentAction .UIPopupCategory {
 	top:0px;
-	left:0px; 
+	left:0px;
+	position: relative;
 }
 
 .UIForumPortlet .ToolbarActionsTag .UIPopupCategory {
- top:0px;
- left:0px; 
+	top:0px;
+	left:0px; 
 }
 
 .UIForumPortlet .UIForm .HorizontalLayout {
@@ -490,7 +574,6 @@
 	color: gray;
 }
 
-
 .UIForumPortlet .PageListPostHidden .UIAction {
 	padding:0px;
 	margin:16px 0px 8px 0px;
@@ -536,7 +619,6 @@
 	*float:left;
 }
 
-
 .UIForumPortlet .TagContainer .ScrollButtonsOver {
 	background-color:#d8d8d8;
 }
@@ -671,3 +753,33 @@
   overflow: hidden;
   word-wrap: break-word;
 }
+
+/* ============== UIButtonForum =====================*/
+
+.UIForumPortlet .StartTopicForum{
+  padding: 0px 6px;
+  background:url('background/buttons/UIButtonForum.gif') repeat-x top;
+  border-radius: 4px;
+  -moz-border-radius: 4px;
+  -webkit-border-radius: 4px;
+  border: 1px solid #4d67aa;
+  -moz-box-shadow: 1px 1px 2px #B3B3B3;
+  -webkit-box-shadow: 1px 1px 2px #B3B3B3;
+  box-shadow: 1px 1px 2px #B3B3B3;
+}
+
+.UIForumPortlet .ForumToolbar .SearchForm .UIRightClickPopupMenu .SearchPopup {
+	padding: 10px 12px 6px 12px;
+}
+
+.UIForumPortlet .UIRightClickPopupMenu .ClickPopupContent .AddLinkToBookIcon{
+	background-position: 5px center;
+}
+
+.UIForumPortlet .UIRightClickPopupMenu .ClickPopupContent .AddWatchingIcon{
+	background-position: 5px center;
+}
+
+.UIForumPortlet .UIRightClickPopupMenu .ClickPopupContent .ForumRSSFeed{
+	background-position: 5px center;
+}
Index: eXoApplication/forum/webapp/src/main/webapp/skin/DefaultSkin/webui/UIForumPageIterator/Stylesheet.css
===================================================================
--- eXoApplication/forum/webapp/src/main/webapp/skin/DefaultSkin/webui/UIForumPageIterator/Stylesheet.css	(revision 68710)
+++ eXoApplication/forum/webapp/src/main/webapp/skin/DefaultSkin/webui/UIForumPageIterator/Stylesheet.css	(working copy)
@@ -117,26 +117,28 @@
 	margin-top: 3px;
 	float: right; 
 	width: 21px; height: 17px;
+	display: block;
 }
 
 .UIForumPortlet .GotoPageIcon .UIPopupCategory {
-	left:-30px;
-	position: absolute;
+	left:-90px;
+	position: relative;
 	top: 2px;
-	width:120px;
 	z-index: 1010;
 }
 
-.UIForumPortlet .SearchForm .UIPopupCategory .InputPage {
-	padding: 2px 6px;
-}
-
-.UIForumPortlet .SearchForm .UIPopupCategory .InputPage input{
-	width: 95px;
+.UIForumPortlet .SearchForm .UIPopupCategory input{
+	width: 68px;
 	height: 12px;
 	font-size: 11px;
+	float: left;
 }
 
+.UIForumPortlet .SearchForm .UIPopupCategory .BorderSearch{
+	border-bottom: 1px solid #707070;
+	padding-bottom: 6px;
+}
+
 .UIForumPortlet .GotoPageIcon .UIPopupCategory .InputPage {
 	padding:2px 6px 0px 0px;
 }
@@ -145,4 +147,23 @@
 	width:30px;
 	height: 12px;
 	font-size: 12px;
+}
+
+/*=========================== Add ==========================*/
+
+.UIForumPortlet .GotoPageIcon .UIRightClickPopupMenu{
+	width: 122px;
+	right: 0px;
+	padding: 10px 12px;
+}
+
+.UIForumPortlet .UIRightClickPopupMenu{
+	background: #f6f6f6;
+	border: 1px solid #d9d9d9;
+}
+
+.UIForumPortlet .GotoPageIcon .UIRightClickPopupMenu input{
+	width: 50px;
+	height: 13px;
+	float: left;
 }
\ No newline at end of file
Index: eXoApplication/forum/webapp/src/main/webapp/skin/DefaultSkin/webui/UITopicDetail/Stylesheet.css
===================================================================
--- eXoApplication/forum/webapp/src/main/webapp/skin/DefaultSkin/webui/UITopicDetail/Stylesheet.css	(revision 68710)
+++ eXoApplication/forum/webapp/src/main/webapp/skin/DefaultSkin/webui/UITopicDetail/Stylesheet.css	(working copy)
@@ -1,3 +1,4 @@
+
 .UITopicDetail {
 	
 }
@@ -177,6 +178,9 @@
 
 .UITopicDetail .PostViewContainer .PostTime {
 	padding: 2px 0px 0px 20px;
+	margin-right:4px;
+	font-size:10px; 
+	color:gray;
 }
 
 .UITopicDetail .PostViewContainer .PostContentContainer {
@@ -186,6 +190,7 @@
 .UITopicDetail .PostViewContainer .PostContent {
 	width: 100%;
 	overflow-x: auto;
+	padding-top: 8px;
 }
 
 .UITopicDetail .PostViewContainer .PostContent table {
@@ -222,13 +227,12 @@
 }
 
 .UITopicDetail .PostViewContainer .AttachmentContainer .AttachmentIcon {
-	float: left;
 	height: 20px;
-	width: 20px;
+	width: auto;
+	padding-left: 20px;
 }
 
-.UITopicDetail .PostViewContainer .AttachmentContainer .AttachmentLabel
-	{
+.UITopicDetail .PostViewContainer .AttachmentContainer .AttachmentLabel{
 	color: #1555b5;
 	line-height: 20px;
 	font-weight: bold;
@@ -270,6 +274,7 @@
 	border-top: 1px dotted #9b9b9b;
 	padding: 5px 8px 0px 8px;
 	width: auto;
+	margin-bottom: 2px;
 }
 
 .UITopicDetail .PostViewContainer .PostInfo {
@@ -278,8 +283,11 @@
 }
 
 .UITopicDetail .PostViewContainer .ButtonContainer {
-	float: right;
-	padding: 0px 0px 0px 0px;
+	padding: 0px;
+	color: gray;
+	text-align: justify;
+	font-size: 11px;
+	max-width: 400px;
 }
 
 /***************************************** Quote ****************************************/
@@ -340,6 +348,7 @@
 }
 
 /*----------------------ForumQuickReply-----------------------*/
+
 .UITopicDetail .ActionContainer {
 	width: 100%;
 }
@@ -407,4 +416,70 @@
 
 .UITopicDetail .MenuTagContainer .TagItem{
 	float: left;
+}
+
+.UIForumPortlet .UITopicDetail .SearchForm .UIPopupCategory .SearchTopic .InputPage{
+	padding: 0px;
+}
+
+.UIForumPortlet .UITopicDetail .ContentAction .UIRightPopupMenuContainer .UIActionForum{
+	padding: 0px 0px 0px 1px;
+}
+
+.UITopicDetail .SearchForm .UIPopupCategory .UIRightPopupMenuContainer .SearchTopic {
+	border-bottom: 1px solid #7B7B7B;
+	margin: 0 5px 3px 5px;
+	padding-bottom: 5px;
+}
+
+/*---------------------- Optimization CSS UITopicDetail-----------------------*/
+
+.UITopicDetail .ButtomAndPageListContainer .TitleTag{
+	padding-left: 20px; 
+	line-height: 24px;
+}
+
+.UITopicDetail .GotoPageIcon .BntGoPage{
+	width:20px; 
+	height:16px;
+}
+
+.UITopicDetail .ButtonHeadBar .UIPopupCategory .BlockAddTag{
+	padding:5px 0px;
+	min-width:155px;
+	display:block; 
+	left:-103px;
+}
+
+.UITopicDetail .ButtonHeadBar .UIPopupCategory .BlockAddTag input{
+	margin-left: 5px;
+}
+
+.UITopicDetail .ContentContainer{
+	margin: 2px 0px 0px 0px;
+}
+
+.UITopicDetail .MemberContent .ContentAction .ImgAvatar{
+	width: 70px;
+	cursor:pointer;
+}
+.UITopicDetail .PostViewContainer .UIPopupCategory .BloclPopupIP{
+	display:block; 
+	left:-60px;
+	width:165px; 
+	min-width:164px;
+}
+
+.UITopicDetail .PostViewContainer .UIPopupCategory{
+	position: relative;
+}
+
+.UITopicDetail .ContentContainer .PostViewTitleOtherAcc{
+	width: 100%;
+}
+
+.UITopicDetail .ContentAction .UIPopupCategory ul {
+	list-style: none;
+	padding: 0px;
+	margin: 5px 0px;
 }
\ No newline at end of file
Index: eXoApplication/forum/webapp/src/main/webapp/skin/DefaultSkin/webui/skinIcons/16x16/Stylesheet.css
===================================================================
--- eXoApplication/forum/webapp/src/main/webapp/skin/DefaultSkin/webui/skinIcons/16x16/Stylesheet.css	(revision 68710)
+++ eXoApplication/forum/webapp/src/main/webapp/skin/DefaultSkin/webui/skinIcons/16x16/Stylesheet.css	(working copy)
@@ -147,7 +147,7 @@
 }
 
 .UIForumPortlet .octet-streamIcon {
-	background: url('/eXoResources/skin/DefaultSkin/skinIcons/16x16/icons/OfficeIcons/Page.gif') no-repeat center;
+	background: url('/eXoResources/skin/DefaultSkin/skinIcons/16x16/icons/OfficeIcons/Page.gif') no-repeat left top;
 }
 
 .UIForumPortlet .PNGIcon {
Index: eXoApplication/forum/webapp/src/main/webapp/templates/forum/webui/UITopicDetail.gtmpl
===================================================================
--- eXoApplication/forum/webapp/src/main/webapp/templates/forum/webui/UITopicDetail.gtmpl	(revision 68710)
+++ eXoApplication/forum/webapp/src/main/webapp/templates/forum/webui/UITopicDetail.gtmpl	(working copy)
@@ -90,294 +90,163 @@
 <div class="UITopicDetail">
 <% uiform.begin() %>
 	<% if(!isNull) {%>
-	<div class="ButtomAndPageListContainer">
+	<div class="ButtomAndPageListContainer ClearFix">
 	<%if(isCanReply || isNotLogin) { %>
-		<div class="UIActionForum" style="float:left;">
-	<% } else { %>
-		<div class="LockActionForum UIActionForum" style="float:left;">
-	<% } %>
-			<div class="ActionButton">
+		<div class="UIActionForum FL">
+		<% } else { %>
+			<div class="LockActionForum UIActionForum FL">
+		<% } %>
 				<div class="NormalStyle">
-					<div class="ButtonLeft">
-						<div class="ButtonRight">
-							<div class="ButtonMiddle">
-							<% if(isCanReply) { %>
-									<div onclick="<%=uicomponent.event("AddPost")%>">
-										<div class="IconButton PostReplyIcon">
-											<span class="LabelIcon"><%=_ctx.appRes("UITopicDetail.action.AddPost");%></span>
-										</div>
-									</div>
-							<% } else if(isNotLogin) {  %>
-									<div class="IconButton PostReplyIcon">
-										<span class="LabelIcon">
-											<a href="$linkGest"><%=_ctx.appRes("UITopicDetail.action.AddPost");%></a>
-										</span>
-									</div>
-							<% } else {%>
-									<div class="IconButton LockIcon" title="<%=_ctx.appRes("UITopicDetail.title.NotAddPost");%>">
-										<span class="LabelIcon"><%=_ctx.appRes("UITopicDetail.action.AddPost");%></span>
-									</div>
-							<% } %>
+					<% if(isCanReply) { %>
+							<div class="IconButton PostReplyIcon" onclick="<%=uicomponent.event("AddPost")%>">
+								<%=_ctx.appRes("UITopicDetail.action.AddPost");%>
 							</div>
-						</div>
-					</div>
+					<% } else if(isNotLogin) {  %>
+							<div class="IconButton PostReplyIcon">
+									<a href="$linkGest"><%=_ctx.appRes("UITopicDetail.action.AddPost");%></a>
+							</div>
+					<% } else {%>
+							<div class="IconButton LockIcon" title="<%=_ctx.appRes("UITopicDetail.title.NotAddPost");%>">
+								<%=_ctx.appRes("UITopicDetail.action.AddPost");%>
+							</div>
+					<% } %>
 				</div>
 			</div>
-		</div>
-		<%  
-		 	List<Tag> tags = uicomponent.getTagsByTopic();
-		 	if(!tags.isEmpty()){
-		%>
-			<div class="FloatLeft" style="padding-left: 20px; line-height: 24px;"><%=_ctx.appRes("UITopicContainer.label.Tag");%>:</div>
-		<%}%>
-		<div class="TagContainer" style="float:left;">
-			<div class="TagContent" id="TagContainer">
-			<%
-			 	for(tag in tags) {
-			 		String tagName = tag.getName();
+			<%  
+				List<Tag> tags = uicomponent.getTagsByTopic();
+				if(!tags.isEmpty()){
 			%>
-				<div class="FloatLeft MenuItem">
-					<a class="TagIcon FloatLeft BlueTagIcon" title="$tagName" href="javaScript:void(0);" onclick="<%=uicomponent.event("OpenTopicsTag", tag.getId());%>">$tagName</a>
-					<div class="UntagIcon FloatLeft" title="Untag this topic." onclick="<%=uicomponent.event("UnTagTopic", tag.getId());%>"><span></span></div>
-					<div style="clear:left;"><span></span></div>
-				</div>
-			<%} %>
-				<div class="ScrollButtons" onclick="eXo.webui.UIPopupSelectCategory.show(this, event);">
-      					<% /*Begin Popup Menu*/ %>
-					<div style="position:relative;">
-						<div class="UIPopupCategory" style="display: none;">
-							<div class="UIRightClickPopupMenu" style="display:block;">
-								<div class="UIContextMenuContainer">
-									<div class="TopLeftRightClickPopupMenu">
-										<div class="TopRightRightClickPopupMenu">
-											<div class="TopCenterRightClickPopupMenu"><span></span></div>
+				<div class="FL TitleTag"><%=_ctx.appRes("UITopicContainer.label.Tag");%>:</div>
+			<%}%>
+			<div class="TagContainer FL">
+				<div class="TagContent ClearFix" id="TagContainer">
+				<%
+					for(tag in tags) {
+						String tagName = tag.getName();
+				%>
+					<div class="FL MenuItem">
+						<a class="TagIcon FL BlueTagIcon" title="$tagName" href="javaScript:void(0);" onclick="<%=uicomponent.event("OpenTopicsTag", tag.getId());%>">$tagName</a>
+						<div class="UntagIcon FL" title="Untag this topic." onclick="<%=uicomponent.event("UnTagTopic", tag.getId());%>"><span></span></div>
+					</div>
+				<%} %>
+					<div class="ScrollButtons" onclick="eXo.webui.UIPopupSelectCategory.show(this, event);">
+									<% /*Begin Popup Menu*/ %>
+						<div style="position:relative;">
+							<div class="UIPopupCategory" style="display: none;">
+								<div class="UIRightClickPopupMenu" style="display:block;">
+									<div class="UIContextMenuContainer">
+										<div class="UIRightPopupMenuContainer">
 										</div>
 									</div>
-									<div class="MiddleLeftRightClickPopupMenu">
-										<div class="MiddleRightRightClickPopupMenu">
-											<div class="UIRightPopupMenuContainer">
-											</div>
-										</div>
-									</div>
-									<div class="BottomLeftRightClickPopupMenu">
-										<div class="BottomRightRightClickPopupMenu">
-											<div class="BottomCenterRightClickPopupMenu"><span></span></div>
-										</div>
-									</div>
 								</div>
 							</div>
 						</div>
+						<% /*End Popup Menu*/ %>
 					</div>
-					<% /*End Popup Menu*/ %>
-      	</div>
-				<div style="clear:left;"><span></span></div>
+				</div>
 			</div>
-		</div>
-		<% if(uicomponent.maxPage > 1) { %>
-		<div title="<%=_ctx.appRes(uiformId + ".title.GoPageNumber");%>" class="GotoPageIcon">
-			<div onclick="eXo.forum.UIForumPortlet.showPopup(this, event);" style="width:20px; height:16px;"><span></span></div>
-			<% /*Begin Popup Menu*/ %>
-			<div style="position:relative; ">
-				<div id="goPage1" class="UIPopupCategory" style="display:none; ">
-					<div class="UIRightClickPopupMenu" style="display:block; left:-75px;">
-						<div class="UIContextMenuContainer">
-							<div class="TopLeftRightClickPopupMenu">
-								<div class="TopRightRightClickPopupMenu">
-									<div class="TopCenterRightClickPopupMenu"><span></span></div>
-								</div>
+			<% if(uicomponent.maxPage > 1) { %>
+			<div title="<%=_ctx.appRes(uiformId + ".title.GoPageNumber");%>" class="GotoPageIcon">
+				<div onclick="eXo.forum.UIForumPortlet.showPopup(this, event);" class="BntGoPage"><span></span></div>
+				<% /*Begin Popup Menu*/ %>
+					<div id="goPage1" class="UIPopupCategory" style="display:none">
+						<div class="UIRightClickPopupMenu" style="display:block;">
+								<% uicomponent.renderChild(ForumUtils.GOPAGE_ID_T) ; %>
+							<div class="UIActionForum FL">
+								<a class="NormalButtomBT" href="<%=uicomponent.event("GoNumberPage","1")%>"><%=_ctx.appRes("UIForumPortlet.label.GoPage");%></a>
 							</div>
-							<div class="MiddleLeftRightClickPopupMenu">
-								<div class="MiddleRightRightClickPopupMenu">
-									<div class="UIRightPopupMenuContainer" style="padding:10px 15px;">
-										<div class="InputPage" style="float:left;">
-											<% uicomponent.renderChild(ForumUtils.GOPAGE_ID_T) ; %>
-										</div>
-										<div class="UIActionForum" style="float:left;">
-											<div class="NormalButtom">
-												<div class="ButtonLeft">
-													<div class="ButtonRight">
-														<div class="ButtonMiddle">
-														 <a href="<%=uicomponent.event("GoNumberPage","1")%>"><%=_ctx.appRes("UIForumPortlet.label.GoPage");%></a>
-														</div>
-													</div>
-												</div>
-											</div>
-										</div>
-										<div style="clear:left;"><span></span></div>
-									</div>
-								</div>
-							</div>
-							<div class="BottomLeftRightClickPopupMenu">
-								<div class="BottomRightRightClickPopupMenu">
-									<div class="BottomCenterRightClickPopupMenu"><span></span></div>
-								</div>
-							</div>
 						</div>
 					</div>
-				</div>
+				<% /*End Popup Menu*/ %>
 			</div>
-			<% /*End Popup Menu*/ %>
+			<% } %>
+			<% _ctx.include("app:/templates/forum/webui/UIForumKeepStickPageIterator.gtmpl"); %>
 		</div>
-		<% } %>
-		<% _ctx.include("app:/templates/forum/webui/UIForumKeepStickPageIterator.gtmpl"); %>
-		<div style="clear:left;"><span></span></div>
-	</div>
 <!-- Start PostsInThreadContainer -->
   <div style="display:none;" id="divChecked" checked="<%=uicomponent.getTotalChecked()%>"><span></span></div>
 	<div class="PostsInThreadContainer ImageContentContainer">
-		<div class="ForumToolbar">
-			<div class="LeftBar">
-				<div class="RightBar">
-					<div class="CenterBar">
-						<div class="ToolbarActionsContainer">
+		<div class="ForumToolbar ForumActionToolbar">
+			<div class="ToolbarActionsContainer ClearFix">
 						<% if(isShowMenu && canEdit) { %>	
 							<div class="ContentAction" onclick="eXo.webui.UIPopupSelectCategory.show(this, event);">
 								<div class="DefaultStyle Forum" onmouseover="eXo.forum.UIForumPortlet.OverButton(this)" onmouseout="eXo.forum.UIForumPortlet.OverButton(this)">
-									<div class="LeftOverButton">
-										<div class="RightOverButton">
-											<div class="CenterOverButton">
-												<div class="StatusIcon ModerationIcon">
-													<div class="DownArrow1Icon"><%=_ctx.appRes("UITopicDetail.label.Moderation");%></div>
-												</div>
-											</div>
+									<div class="OverButton">
+										<div class="StatusIcon ModerationIcon">
+											<div class="DownArrow1Icon"><%=_ctx.appRes("UITopicDetail.label.Moderation");%></div>
 										</div>
 									</div>
 								</div>
 								<% /*Begin Popup Menu*/ %>
-								<div style="position:relative;">
 									<div class="UIPopupCategory" style="display:none;">
-										<div class="UIRightClickPopupMenu" style="display:block; left:-48px;">
-											<div class="UIContextMenuContainer">
-												<div class="TopLeftRightClickPopupMenu">
-													<div class="TopRightRightClickPopupMenu">
-														<div class="TopCenterRightClickPopupMenu"><span></span></div>
-													</div>
-												</div>
-												<div class="MiddleLeftRightClickPopupMenu">
-													<div class="MiddleRightRightClickPopupMenu">
-														<div class="UIRightPopupMenuContainer">
-															
-															<%
-															String[] actionMenuPost = ["MovePost", "SetApprovePost", "SetHiddenPost", "SetUnHiddenPost", "DeletePost"];
-															String link = new String() ;
-															String classIcon = new String() ;
-															String itemLabel = new String() ;
-															for(action in actionMenuPost) {
-																link = uicomponent.event(action,uiformId,uiformId) ;
-																classIcon = action + "Icon";
-														 		itemLabel = _ctx.appRes("UITopicDetail.action." + action);
-																boolean isView = true ;
-																if(action.equals("SetApprovePost")){
-																	if(!topic.getIsModeratePost()) {
-																		isView = false ;
-																	}
-																}
-																if(posts.size() <= 1 && uicomponent.pageSelect <= 1)isView = false ;
-																if(isView) {
-																	if(action.equals("DeletePost")){
-																%>
-																		<div class="MenuItem" onclick="javaScript:if(eXo.forum.UIForumPortlet.numberIsChecked('UITopicDetail', '', '<%=_ctx.appRes("UITopicDetail.confirm.DeleteMorePost")%>', '<%=_ctx.appRes("UITopicContainer.confirm.DeleteOnePost")%>', '<%=_ctx.appRes("UITopicDetail.msg.notCheckPost")%>')){$link;}">	 
-																			<div class="ItemIcon $classIcon">
-																				<a href="javaScript:void(0)">$itemLabel</a>
-																			</div>
-																		</div>
-																<%
-																	} else {
-																%>
-																	<div class="MenuItem" onclick="$link">
-																		<div class="ItemIcon $classIcon">
-																			<a href="javaScript:void(0)">$itemLabel</a>
-																		</div>
-																	</div>
-																<%}
-																} else {
-																%>
-																	<div class="DisableMenuItem" onclick="javaScript:void(0)">
-																		<div class="ItemIcon $classIcon">
-																			$itemLabel
-																		</div>
-																	</div>
-																<%}
+											<ul class="UIRightClickPopupMenu" style="display:block">
+													<%
+													String[] actionMenuPost = ["MovePost", "SetApprovePost", "SetHiddenPost", "SetUnHiddenPost", "DeletePost"];
+													String link = new String() ;
+													String classIcon = new String() ;
+													String itemLabel = new String() ;
+													for(action in actionMenuPost) {
+														link = uicomponent.event(action,uiformId,uiformId) ;
+														classIcon = action + "Icon";
+														itemLabel = _ctx.appRes("UITopicDetail.action." + action);
+														boolean isView = true ;
+														if(action.equals("SetApprovePost")){
+															if(!topic.getIsModeratePost()) {
+																isView = false ;
 															}
-															%>
-
-														</div>
-													</div>
-												</div>
-												<div class="BottomLeftRightClickPopupMenu">
-													<div class="BottomRightRightClickPopupMenu">
-														<div class="BottomCenterRightClickPopupMenu"><span></span></div>
-													</div>
-												</div>
-											</div>
-										</div>
+														}
+														if(posts.size() <= 1 && uicomponent.pageSelect <= 1)isView = false ;
+														if(isView) {
+															if(action.equals("DeletePost")){
+														%>
+																<li class="ItemIcon $classIcon MenuItem" onclick="javaScript:if(eXo.forum.UIForumPortlet.numberIsChecked('UITopicDetail', '', '<%=_ctx.appRes("UITopicDetail.confirm.DeleteMorePost")%>', '<%=_ctx.appRes("UITopicContainer.confirm.DeleteOnePost")%>', '<%=_ctx.appRes("UITopicDetail.msg.notCheckPost")%>')){$link;}">
+																	<a href="javaScript:void(0)">$itemLabel</a>
+																</li>
+														<%
+															} else {
+														%>
+																<li class="ItemIcon $classIcon MenuItem"  onclick="$link">
+																	<a href="javaScript:void(0)">$itemLabel</a>
+																</li>
+														<%}
+														} else {
+														%>
+																<li class="ItemIcon $classIcon DisableMenuItem" onclick="javaScript:void(0)">
+																	$itemLabel
+																</li>
+														<%}
+													}
+													%>
+											</ul>
 									</div>
 								<% /*End Popup Menu*/ %>
-								</div>
 							</div>
 							<% } %>
 							<div class="ForumSeparatorLine"><span></span></div>
 							<div class="ContentAction">
 								<div class="SearchForm" onclick="eXo.forum.UIForumPortlet.showPopup(this, event); document.getElementById('<%=ForumUtils.SEARCHFORM_ID%>').focus();">									
 										<div class="DefaultStyle Forum" onmouseover="eXo.forum.UIForumPortlet.OverButton(this)" onmouseout="eXo.forum.UIForumPortlet.OverButton(this)">
-											<div class="LeftOverButton" title="<%=_ctx.appRes("UITopicDetail.title.SearchInThisThread");%>">
-												<div class="RightOverButton">
-													<div class="CenterOverButton">
-														<div class="StatusIcon SearchIcon">
-															<div class="DownArrow1Icon"><%=_ctx.appRes("UITopicDetail.label.SearchThisThread");%></div>
-														</div>
-													</div>
+											<div class="OverButton" title="<%=_ctx.appRes("UITopicDetail.title.SearchInThisThread");%>">
+												<div class="StatusIcon SearchIcon">
+													<div class="DownArrow1Icon"><%=_ctx.appRes("UITopicDetail.label.SearchThisThread");%></div>
 												</div>
 											</div>
 										</div>
 									<% /*Begin Popup Menu*/ %>
-									<div style="position:relative;">
-										<div class="UIPopupCategory SearchPopup" style="display:none;">
+
+										<div class="UIPopupCategory" style="display:none;">
 											<div class="UIRightClickPopupMenu" style="display:block;">
-												<div class="UIContextMenuContainer">
-													<div class="TopLeftRightClickPopupMenu">
-														<div class="TopRightRightClickPopupMenu">
-															<div class="TopCenterRightClickPopupMenu"><span></span></div>
-														</div>
-													</div>
-													<div class="MiddleLeftRightClickPopupMenu">
-														<div class="MiddleRightRightClickPopupMenu">
-															<div class="UIRightPopupMenuContainer" style="width:165px">
-																<div id="SearchInTopic">
-																	<div class="InputPage" style="float:left;">
-																		<% uicomponent.renderChild(ForumUtils.SEARCHFORM_ID) ; %>
-																	</div>
-																	<div class="UIActionForum" style="float:left;">
-																		<div class="NormalButtom">
-																			<div class="ButtonLeft">
-																				<div class="ButtonRight">
-																					<div class="ButtonMiddle">
-																					 <a class="SearchLink" href="<%=uicomponent.event("SearchForm")%>"><%=_ctx.appRes("UIForumPortlet.label.Search");%></a>
-																					</div>
-																				</div>
-																			</div>
-																		</div>
-																	</div>
-																	<div style="clear:left;"><span></span></div>
-																	<div class="LineMenu"><span></span></div>
-																	<div class="MenuItem" onclick="<%=uicomponent.event("AdvancedSearch")%>">	 
-																		<div class="ItemIcon AdvancedSearchIcon">
-																			<a href="javaScript:void(0)"><%=_ctx.appRes("UIForumPortlet.label.AdvancedSearch")%></a>
-																		</div>
-																	</div>
-																</div>
-															</div>
-														</div>
-													</div>
-													<div class="BottomLeftRightClickPopupMenu">
-														<div class="BottomRightRightClickPopupMenu">
-															<div class="BottomCenterRightClickPopupMenu"><span></span></div>
-														</div>
-													</div>
-												</div>
+												<ul id="SearchInTopic" class="SearchPopup">
+													<li class="ClearFix SearchTopic BorderSearch">
+															<% uicomponent.renderChild(ForumUtils.SEARCHFORM_ID) ; %>
+														 <a class="SearchLink NormalButtomBT UIActionForum FL" href="<%=uicomponent.event("SearchForm")%>"><%=_ctx.appRes("UIForumPortlet.label.Search");%></a>
+													</li>
+													<li class="ItemIcon AdvancedSearchIcon MenuItem" onclick="<%=uicomponent.event("AdvancedSearch")%>">
+														<a href="javaScript:void(0)"><%=_ctx.appRes("UIForumPortlet.label.AdvancedSearch")%></a>
+													</li>
+												</ul>
 											</div>
 										</div>
-									</div>
+
 									<% /*End Popup Menu*/ %>
 								</div>
 							</div>
@@ -385,30 +254,15 @@
 							<div class="ForumSeparatorLine"><span></span></div>
 							<div class="ContentAction" onclick="eXo.webui.UIPopupSelectCategory.show(this, event);">								
 								<div class="DefaultStyle Forum" onmouseover="eXo.forum.UIForumPortlet.OverButton(this)" onmouseout="eXo.forum.UIForumPortlet.OverButton(this)">
-									<div class="LeftOverButton">
-										<div class="RightOverButton">
-											<div class="CenterOverButton">
-												<div class="StatusIcon ToolIcon">
-													<div class="DownArrow1Icon"><%=_ctx.appRes("UITopicDetail.label.ThreadTools");%></div>
-												</div>
-											</div>
+									<div class="OverButton">
+										<div class="StatusIcon ToolIcon">
+											<div class="DownArrow1Icon"><%=_ctx.appRes("UITopicDetail.label.ThreadTools");%></div>
 										</div>
 									</div>
 								</div>
 								<% /*Begin Popup Menu*/ %>
-								<div style="position:relative;">
 									<div class="UIPopupCategory" style="display:none;">
-										<div class="UIRightClickPopupMenu" style="display:block;">
-											<div class="UIContextMenuContainer">
-											
-												<div class="TopLeftRightClickPopupMenu">
-													<div class="TopRightRightClickPopupMenu">
-														<div class="TopCenterRightClickPopupMenu"><span></span></div>
-													</div>
-												</div>
-												<div class="MiddleLeftRightClickPopupMenu">
-													<div class="MiddleRightRightClickPopupMenu">
-														<div class="UIRightPopupMenuContainer">
+										<ul class="UIRightClickPopupMenu" style="display:block;">
 															<% 
 															if(!isUserCreatedTopic) {
 																String[] menuTopicActions = ["EditTopic", "PrintPage", "AddPoll", "SetOpenTopic", "SetCloseTopic", 
@@ -453,17 +307,13 @@
 															 		} 
 															 		if(!isView){ 
 													 		%>
-													 				<div class="DisableMenuItem">	 
-																		<div class="ItemIcon $classIcon">
+																		<li class="ItemIcon $classIcon DisableMenuItem">
 																			$itemLabel
-																		</div>
-																	</div>
+																		</li>
 													 		<% } else { %>
-																	<div class="MenuItem" onclick="$link">	 
-																		<div class="ItemIcon $classIcon">
+																		<li class="ItemIcon $classIcon MenuItem"  onclick="$link">
 																			<a href="javaScript:void(0)">$itemLabel</a>
-																		</div>
-																	</div>
+																		</li>
 																<% } %>
 															<% } 
 															 } else {
@@ -494,167 +344,77 @@
 															 		 }
 															 		 if(!isView){ 
 													 			%>
-														 				<div class="DisableMenuItem">	 
-																			<div class="ItemIcon $classIcon">$itemLabel</div>
-																		</div>
+																			<li class="ItemIcon $classIcon DisableMenuItem">$itemLabel</li>
 													 			<% } else { %>
 																 		<% if(isApprove) { %>
-														 						<div class="LineMenu"><span></span></div>
+																			<li class="LineMenu"><span></span></li>
 														 				<% } %>
-																		<div class="MenuItem" onclick="$link">	 
-																			<div class="ItemIcon $classIcon">
+																			<li class="ItemIcon $classIcon MenuItem"  onclick="$link">
 																				<a href="javaScript:void(0)">$itemLabel</a>
-																			</div>
-																		</div>
+																			</li>
 																<% } 
 																 }	
 															 } %>
-														</div>
-													</div>
-												</div>
-												<div class="BottomLeftRightClickPopupMenu">
-													<div class="BottomRightRightClickPopupMenu">
-														<div class="BottomCenterRightClickPopupMenu"><span></span></div>
-													</div>
-											</div>
-											
-											</div>
-										</div>
+											</ul>			
 									</div>
-								</div>
 								<% /*End Popup Menu*/ %>
 							</div>
 						<% } %>	
 						<%if(!isClosed && userProfile.getUserRole() != 3 && !isBanned) {%>
 							<div class="ForumSeparatorLine"><span></span></div>
 							<div class="ButtonHeadBar">
-								<div class="SearchForm" onclick="eXo.forum.UIForumPortlet.showPopup(this, event); document.getElementById('<%=uicomponent.FIELD_ADD_TAG%>').focus();">
-									<div class="DefaultStyle Forum" onmouseover="eXo.forum.UIForumPortlet.OverButton(this)" onmouseout="eXo.forum.UIForumPortlet.OverButton(this)">
-										<div class="LeftOverButton" id="ButtonSearch">
-											<div class="RightOverButton">
-												<div class="CenterOverButton">
-													<div class="StatusIcon TagIcon">
-														<a href="javaScript:void(0)"><%=_ctx.appRes("UITopicDetail.label.Tag");%></a>
-													</div>
-												</div>
-											</div>
+								<div class="SearchForm DefaultStyle Forum" onclick="eXo.forum.UIForumPortlet.showPopup(this, event); document.getElementById('<%=uicomponent.FIELD_ADD_TAG%>').focus();" onmouseover="eXo.forum.UIForumPortlet.OverButton(this)" onmouseout="eXo.forum.UIForumPortlet.OverButton(this)">
+										<div class="OverButton" id="ButtonSearch">
+												<a class="StatusIcon TagIcon" href="javaScript:void(0)"><%=_ctx.appRes("UITopicDetail.label.Tag");%></a>
 										</div>
-									</div>
 									<div id="AddTagId">
 									<% /*Begin Popup Menu*/ %>
-										<div style="position:relative; ">
-											<div class="UIPopupCategory" style="display:none; ">
-												<div class="UIRightClickPopupMenu" style="display:block; left:-120px;">
-													<div class="UIContextMenuContainer">
-														<div class="TopLeftRightClickPopupMenu">
-															<div class="TopRightRightClickPopupMenu">
-																<div class="TopCenterRightClickPopupMenu"><span></span></div>
-															</div>
+											<div class="UIPopupCategory" style="display:none;">
+												<div class="UIRightClickPopupMenu ClearFix BlockAddTag">
+														<% uicomponent.renderChild(uicomponent.FIELD_ADD_TAG) ; %>
+														<div class="SearchTagName" id="searchTagName" restPath="<%=uicomponent.getRestPath();%>" linkSubmit="<%=uicomponent.event("AddTagTopic")%>" inputId="<%=uicomponent.FIELD_ADD_TAG%>" userAndTopicId="$userLogin,<%=topic.getId()%>">
+															<div class="TagNameItem Selected"></div>
 														</div>
-														<div class="MiddleLeftRightClickPopupMenu">
-															<div class="MiddleRightRightClickPopupMenu">
-																<div class="UIRightPopupMenuContainer" style="padding:5px 0px;min-width:172px;">
-																	<div class="InputPage" style="float:left;">
-																		<% uicomponent.renderChild(uicomponent.FIELD_ADD_TAG) ; %>
-																		<div class="SearchTagName" id="searchTagName" restPath="<%=uicomponent.getRestPath();%>" linkSubmit="<%=uicomponent.event("AddTagTopic")%>" inputId="<%=uicomponent.FIELD_ADD_TAG%>" userAndTopicId="$userLogin,<%=topic.getId()%>">
-																			<div class="TagNameItem Selected"></div>
-																		</div>
-																	</div>
-																	<div class="UIActionForum" style="float:left;">
-																		<div class="NormalButtom">
-																			<div class="ButtonLeft">
-																				<div class="ButtonRight">
-																					<div class="ButtonMiddle">
-																					 <div onclick="<%=uicomponent.event("AddTagTopic")%>"><%=_ctx.appRes("UITopicDetail.label.AddTag");%></div>
-																					</div>
-																				</div>
-																			</div>
-																		</div>
-																	</div>
-																	<div style="clear:left;"><span></span></div>
-																</div>
-															</div>
+													<div class="UIActionForum FL">
+														<div class="NormalButtomBT">
+															 <div onclick="<%=uicomponent.event("AddTagTopic")%>"><%=_ctx.appRes("UITopicDetail.label.AddTag");%></div>
 														</div>
-														<div class="BottomLeftRightClickPopupMenu">
-															<div class="BottomRightRightClickPopupMenu">
-																<div class="BottomCenterRightClickPopupMenu"><span></span></div>
-															</div>
-														</div>
 													</div>
 												</div>
 											</div>
-										</div>
 									<% /*End Popup Menu*/ %>
 									</div>
 								</div>
 							</div>
-							<div class="ButtonHeadBar">
-								<div class="DefaultStyle Forum" onmouseover="eXo.forum.UIForumPortlet.OverButton(this)" onmouseout="eXo.forum.UIForumPortlet.OverButton(this)">
-									<div onclick="<%=uicomponent.event("RatingTopic")%>">
-										<div class="LeftOverButton">
-											<div class="RightOverButton">
-												<div class="CenterOverButton">
-													<div class="StatusIcon VoteIcon">
-														<a href="javaScript:void(0)"><%=_ctx.appRes("UITopicDetail.label.VoteThread");%></a>
-													</div>
-												</div>
-											</div>
-										</div>
+							<div class="ButtonHeadBar DefaultStyle Forum" onmouseover="eXo.forum.UIForumPortlet.OverButton(this)" onmouseout="eXo.forum.UIForumPortlet.OverButton(this)">
+									<div class="OverButton" onclick="<%=uicomponent.event("RatingTopic")%>">
+											<a class="StatusIcon VoteIcon" href="javaScript:void(0)"><%=_ctx.appRes("UITopicDetail.label.VoteThread");%></a>
 									</div>
-								</div>
 							</div>
 						<%}%>
 						
-							<div class="ButtonHeadBar">
-								<div class="DefaultStyle Forum" onmouseover="eXo.forum.UIForumPortlet.OverButton(this)" onmouseout="eXo.forum.UIForumPortlet.OverButton(this)">
-									<div class="LeftOverButton">
-										<div class="RightOverButton">
-											<div class="CenterOverButton">
-												<div class="AddRSS ForumRSSFeed" style="padding-left:16px;line-height:22px;">
-													<a style="display:block;" href="javascript:window.open('<%=uicomponent.getRSSLink(topic.getId())%>'); <%=uicomponent.event("RSS", topic.getId()).replace("javascript:","")%>;">&nbsp;RSS</a>
-												</div>
-											</div>
-										</div>
-									</div>
+							<div class="ButtonHeadBar DefaultStyle Forum" onmouseover="eXo.forum.UIForumPortlet.OverButton(this)" onmouseout="eXo.forum.UIForumPortlet.OverButton(this)">
+								<div class="OverButton">
+										<a class="AddRSS ForumRSSFeed StatusIcon" href="javascript:window.open('<%=uicomponent.getRSSLink(topic.getId())%>'); <%=uicomponent.event("RSS", topic.getId()).replace("javascript:","")%>;">&nbsp;RSS</a>
 								</div>
 							</div>
 						<%if(uicomponent.userProfile.getUserRole() < 3){%>
-							<div class="ButtonHeadBar">
-								<div class="DefaultStyle Forum" onmouseover="eXo.forum.UIForumPortlet.OverButton(this)" onmouseout="eXo.forum.UIForumPortlet.OverButton(this)">
-									<div class="LeftOverButton">
-										<div class="RightOverButton">
-											<div class="CenterOverButton">
-												<div class="AddLinkToBookIcon" style="padding-left:16px;">
-													<a style="display:block;" href="<%=uicomponent.event("AddBookMark")%>">&nbsp;<%=_ctx.appRes("UIForumPortlet.label.AddBookmarkLink");%></a>
-												</div>
-											</div>
-										</div>
-									</div>
+							<div class="ButtonHeadBar DefaultStyle Forum"  onmouseover="eXo.forum.UIForumPortlet.OverButton(this)" onmouseout="eXo.forum.UIForumPortlet.OverButton(this)">
+								<div class="OverButton">
+										<a class="AddLinkToBookIcon StatusIcon" href="<%=uicomponent.event("AddBookMark")%>">&nbsp;<%=_ctx.appRes("UIForumPortlet.label.AddBookmarkLink");%></a>
 								</div>
 							</div>
-							<div class="ButtonHeadBar">
-								<div class="DefaultStyle Forum" onmouseover="eXo.forum.UIForumPortlet.OverButton(this)" onmouseout="eXo.forum.UIForumPortlet.OverButton(this)">
-									<div class="LeftOverButton">
-										<div class="RightOverButton">
-											<div class="CenterOverButton">
-												<div class="AddWatchingIcon" style="padding-left:16px;">
-												<% if(uicomponent.isWatching(topic.getPath())){ %>
-													<a style="display:block;" href="<%=uicomponent.event("UnWatch")%>">&nbsp;<%=_ctx.appRes("UIForumPortlet.label.UnWatch");%></a>
-												<% } else { %>
-													<a style="display:block;" href="<%=uicomponent.event("AddWatching")%>">&nbsp;<%=_ctx.appRes("UIForumPortlet.label.AddWatching");%></a>
-												<% } %>
-												</div>
-											</div>
-										</div>
+							<div class="ButtonHeadBar DefaultStyle Forum" onmouseover="eXo.forum.UIForumPortlet.OverButton(this)" onmouseout="eXo.forum.UIForumPortlet.OverButton(this)">
+									<div class="OverButton">
+										<% if(uicomponent.isWatching(topic.getPath())){ %>
+											<a class="AddWatchingIcon StatusIcon" href="<%=uicomponent.event("UnWatch")%>">&nbsp;<%=_ctx.appRes("UIForumPortlet.label.UnWatch");%></a>
+										<% } else { %>
+											<a class="AddWatchingIcon StatusIcon" href="<%=uicomponent.event("AddWatching")%>">&nbsp;<%=_ctx.appRes("UIForumPortlet.label.AddWatching");%></a>
+										<% } %>
 									</div>
-								</div>
 							</div>
 						<% } %>	
-							<div style="clear:right;"><span></span></div>
 						</div>
-					</div>
-				</div>
-			</div>
 		</div>
 		
 <!-- Start ContentContainer -->
@@ -730,7 +490,7 @@
 				if(isAnd) alert = alert + "!</span>) "
 				else alert = " " ;
 		%>
-		<div class="ContentContainer" id="$postId" style="margin:2px 0px 0px 0px;">
+		<div class="ContentContainer" id="$postId">
 			<table class="TablePost" cellspacing="0" border="0" cellpadding="0">
 				<tbody>
 					<tr>
@@ -745,52 +505,29 @@
 									 titleSmile = "Online";
 								}
 						%>
-								<div class="MemberName">
+								<div class="MemberName ClearFix">
 									<div class="State $userSmile" title="${screenName}'s $titleSmile"><span></span></div>
-									<div class="ContentAction" style="float:left;" onclick="eXo.webui.UIPopupSelectCategory.show(this, event);">
+									<div class="ContentAction FL" onclick="eXo.webui.UIPopupSelectCategory.show(this, event);">
 										<div class="Name" style="float:none; cursor:pointer;">$viewScreenName</div>
-										<div style="position:relative;">
-											<div class="UIPopupCategory" style="display:none; left:2px; top:-2px; ">
-												<div class="UIRightClickPopupMenu" style="display:block;">
-													<div class="UIContextMenuContainer">											
-														<div class="TopLeftRightClickPopupMenu">
-															<div class="TopRightRightClickPopupMenu">
-																<div class="TopCenterRightClickPopupMenu"><span></span></div>
-															</div>
-														</div>
-														<div class="MiddleLeftRightClickPopupMenu">
-															<div class="MiddleRightRightClickPopupMenu">
-																<div class="UIRightPopupMenuContainer">
-																	<%
-																		String[] menuViewInfos = ["ViewPublicUserInfo","PrivateMessage","ViewPostedByUser", "ViewThreadByUser"] ;
-																		for(viewAction in menuViewInfos) {
-																		  if((userProfile.getUserRole() >= 3 || userInfo.getUserRole() >= 3) && viewAction.equals("PrivateMessage")) continue;
-																			String linkView = uicomponent.event(viewAction, owner) ;
-																			String itemLabelView = _ctx.appRes("UITopicDetail.action." + viewAction);
-																			if(!viewAction.equals("ViewPublicUserInfo") && !viewAction.equals("PrivateMessage")) itemLabelView = itemLabelView + " " + viewScreenName ;
-																	%>
-																			<div class="MenuItem" onclick="$linkView">
-																				<div class="ItemIcon IconsView $viewAction" style="padding-left:30px;">
-																					<a href="javaScript:void(0)">$itemLabelView</a>
-																				</div>
-																			</div>
-																	<%
-																		}
-																	%>
-																</div>
-															</div>
-														</div>
-														<div class="BottomLeftRightClickPopupMenu">
-															<div class="BottomRightRightClickPopupMenu">
-																<div class="BottomCenterRightClickPopupMenu"><span></span></div>
-															</div>
-														</div>
-													</div>
-												</div>
+											<div class="UIPopupCategory" style="display:none;">
+												<ul class="UIRightClickPopupMenu" style="display:block;">
+														<%
+															String[] menuViewInfos = ["ViewPublicUserInfo","PrivateMessage","ViewPostedByUser", "ViewThreadByUser"] ;
+															for(viewAction in menuViewInfos) {
+																if((userProfile.getUserRole() >= 3 || userInfo.getUserRole() >= 3) && viewAction.equals("PrivateMessage")) continue;
+																String linkView = uicomponent.event(viewAction, owner) ;
+																String itemLabelView = _ctx.appRes("UITopicDetail.action." + viewAction);
+																if(!viewAction.equals("ViewPublicUserInfo") && !viewAction.equals("PrivateMessage")) itemLabelView = itemLabelView + " " + viewScreenName ;
+														%>
+																	<li class="ItemIcon IconsView $viewAction MenuItem" onclick="$linkView">
+																		<a href="javaScript:void(0)">$itemLabelView</a>
+																	</li>
+														<%
+															}
+														%>
+												</ul>
 											</div>
-										</div>
 									</div>
-									<div style="clear:left;"><span></span></div>
 								</div>
 										
 								<div class="Rank"><%=userInfo.getUserTitle();%></div>
@@ -801,20 +538,11 @@
 										onload = "eXo.forum.UIForumPortlet.onloadReSizeAvatar('"+idAv+"');";
 										 ++nb;
 								%>
-										<div class="ContentAction" style="float:left;" onmouseover="eXo.forum.UIForumPortlet.mouseOnUserMenu(this, event,true)" onmouseout="eXo.forum.UIForumPortlet.mouseOnUserMenu(this, event, false)">
-											<img src="$avatarUrl" class="ImgAvatar" id="$idAv" width="70px" onload="$onload" style="float:left; cursor:pointer;" alt=""/>
-											<div style="position:relative; float:left;">
-												<div class="UIPopupCategory" style="display:none; left:2px; top:-2px; ">
-													<div class="UIRightClickPopupMenu" style="display:block;">
-														<div class="UIContextMenuContainer">											
-															<div class="TopLeftRightClickPopupMenu">
-																<div class="TopRightRightClickPopupMenu">
-																	<div class="TopCenterRightClickPopupMenu"><span></span></div>
-																</div>
-															</div>
-															<div class="MiddleLeftRightClickPopupMenu">
-																<div class="MiddleRightRightClickPopupMenu">
-																	<div class="UIRightPopupMenuContainer">
+								<div class="ClearFix">
+										<div class="ContentAction FL" onmouseover="eXo.forum.UIForumPortlet.mouseOnUserMenu(this, event,true)" onmouseout="eXo.forum.UIForumPortlet.mouseOnUserMenu(this, event, false)">
+											<img src="$avatarUrl" class="ImgAvatar FL" id="$idAv" onload="$onload" alt=""/>
+											<div class="UIPopupCategory FL" style="display:none;">
+													<ul class="UIRightClickPopupMenu" style="display:block;">
 																		<%
 																			for(viewAction in menuViewInfos) {
 																			  if((userProfile.getUserRole() >= 3 || userInfo.getUserRole() >= 3) && viewAction.equals("PrivateMessage")) continue;
@@ -822,45 +550,33 @@
 																				String itemLabelView = _ctx.appRes("UITopicDetail.action." + viewAction);
 																				if(!viewAction.equals("ViewPublicUserInfo") && !viewAction.equals("PrivateMessage")) itemLabelView = itemLabelView + " " + viewScreenName ;
 																		%>
-																				<div class="MenuItem" onclick="$linkView">
-																					<div class="ItemIcon IconsView $viewAction" style="padding-left:30px;">
-																						<a href="javaScript:void(0)">$itemLabelView</a>
-																					</div>
-																				</div>
+																			<li class="ItemIcon IconsView $viewAction MenuItem" onclick="$linkView">
+																				<a href="javaScript:void(0)">$itemLabelView</a>
+																			</li>
 																		<%
 																			}
 																		%>
-																	</div>
-																</div>
-															</div>
-															<div class="BottomLeftRightClickPopupMenu">
-																<div class="BottomRightRightClickPopupMenu">
-																	<div class="BottomCenterRightClickPopupMenu"><span></span></div>
-																</div>
-															</div>
-														</div>
-													</div>
+													</ul>
 												</div>
-											</div>
 										</div>
-										<div style="clear:left;"><span></span></div>
+									</div>
 								<% } %>
 								<div class="InfoMember">
-									<div><%=_ctx.appRes("UITopicDetail.label.JoinDate");%>:$joinDate</div>
+									<span><%=_ctx.appRes("UITopicDetail.label.JoinDate");%>:$joinDate</span>
 									<% long totalPost = userInfo.getTotalPost();
 										if(totalPost > 0) {
 											 Date lastPostOfUser = userInfo.getLastPostDate() ;
 											 dateView.setTime(lastPostOfUser.getTime() - setTime);
 											 String lastPostDateOfUser = ForumUtils.getFormatDate(shortDateTimeFormat,dateView) ;
 									%>
-									<div><%=_ctx.appRes("UITopicDetail.label.Posts");%>:$totalPost</div>
-									<div><%=_ctx.appRes("UITopicDetail.label.LastPost");%>: $lastPostDateOfUser</div>
+									<span><%=_ctx.appRes("UITopicDetail.label.Posts");%>:$totalPost</span>
+									<span><%=_ctx.appRes("UITopicDetail.label.LastPost");%>: $lastPostDateOfUser</span>
 									<% } else {%>
-									<div><strong>$viewScreenName</strong><%=_ctx.appRes("UITopicDetail.label.hasNoPost");%></div>
+									<span><strong>$viewScreenName</strong><%=_ctx.appRes("UITopicDetail.label.hasNoPost");%></span>
 									<% } 
 									 if(!ForumUtils.isEmpty(location)) {
 									%>
-									<div><%=_ctx.appRes("UITopicDetail.label.Location");%>:$location</div>
+									<span><%=_ctx.appRes("UITopicDetail.label.Location");%>:$location</span>
 									<%} 
 									  Date lastLogin = userInfo.getLastLoginDate();
 										String lastLoginUser = "" ;
@@ -869,7 +585,7 @@
 										  lastLoginUser = ForumUtils.getFormatDate(shortDateTimeFormat, dateView) ;
 										}
 									%>
-									<div><%=_ctx.appRes("UITopicDetail.label.LastLogin");%>:$lastLoginUser</div>
+									<span><%=_ctx.appRes("UITopicDetail.label.LastLogin");%>:$lastLoginUser</span>
 								</div>
 							</div>
 						</td>
@@ -878,16 +594,16 @@
 						<td class="PostViewContainer">
 							
 						<% if (idLastPost.equals(postId)) { %>
-							<div class="PostViewHeader BackgroundHeader">
+							<div class="PostViewHeader BackgroundHeader ClearFix">
 						<% } else {  %>							
-								<div class="PostViewHeader">
+								<div class="PostViewHeader ClearFix">
 						<% } %>
 							<% if(canEdit) {%>
-								<div class="PostViewTitle" style="float:left;">
+								<div class="PostViewTitle FL">
 									<div class="PostViewIcon $classIconPost">$namePost $alert</div>
 								</div>
-								<div class="CheckPost" style="float:right;">
-									<div class="PostTime" style="margin-right:4px;font-size:10px; color:gray; float:left;"><%=_ctx.appRes(uiformId + ".label.Posted");%>:$createdDate </div>
+								<div class="CheckPost FR">
+									<div class="PostTime FL"><%=_ctx.appRes(uiformId + ".label.Posted");%>:$createdDate </div>
 								<%
 								   if(isShowIP) {
 								     String ip = post.getRemoteAddr();
@@ -901,53 +617,28 @@
 								%>
 									<div class="IPIcon" title="IP: $ip" onclick="eXo.forum.UIForumPortlet.showPopup(this, event);">
 										<% /*Begin Popup Menu*/ %>
-										<div style="position:relative;">
 											<div class="UIPopupCategory SearchPopup" style="display:none;">
-												<div class="UIRightClickPopupMenu" style="display:block; left:-60px;">
-													<div class="UIContextMenuContainer">
-														<div class="TopLeftRightClickPopupMenu">
-															<div class="TopRightRightClickPopupMenu">
-																<div class="TopCenterRightClickPopupMenu"><span></span></div>
-															</div>
-														</div>
-														<div class="MiddleLeftRightClickPopupMenu">
-															<div class="MiddleRightRightClickPopupMenu">
-																<div class="UIRightPopupMenuContainer" style="width:165px; min-width:164px;">
-																	<div class="LineMenu"><span></span></div>
-																	<div title="$title1" class="MenuItem" onclick="$link2">	 
-																		<div class="ItemIcon">
-																			<a href="javascript:void(0);"><%=_ctx.appRes("UITopicDetail.label.BanIPThisForum")%></a>
-																		</div>
-																	</div>
-																	<% 
-																		if(userProfile.getUserRole() == 0) {
-																		String link = "javascript:if(confirm('" + _ctx.appRes("UITopicDetail.confirm.BanAllForum") + "')){" + uicomponent.event("BanIPAllForum", ip).replaceFirst("javascript:", "") + ";}"; 
-																	%>
-																	<div class="MenuItem" onclick="$link">	 
-																		<div class="ItemIcon">
-																			<a href="javaScript:void(0)"><%=_ctx.appRes("UITopicDetail.label.BanIPAllForum")%></a>
-																		</div>
-																	</div>
-																	<% } %>
-																</div>
-															</div>
-														</div>
-														<div class="BottomLeftRightClickPopupMenu">
-															<div class="BottomRightRightClickPopupMenu">
-																<div class="BottomCenterRightClickPopupMenu"><span></span></div>
-															</div>
-														</div>
-													</div>
-												</div>
+												<ul class="UIRightClickPopupMenu BloclPopupIP">
+													<li title="$title1" class="MenuItem" onclick="$link2">	 
+															<a class="ItemIcon" href="javascript:void(0);"><%=_ctx.appRes("UITopicDetail.label.BanIPThisForum")%></a>
+													</li>
+													<% 
+														if(userProfile.getUserRole() == 0) {
+														String link = "javascript:if(confirm('" + _ctx.appRes("UITopicDetail.confirm.BanAllForum") + "')){" + uicomponent.event("BanIPAllForum", ip).replaceFirst("javascript:", "") + ";}"; 
+													%>
+													<li class="MenuItem" onclick="$link">	 
+															<a  class="ItemIcon" href="javaScript:void(0)"><%=_ctx.appRes("UITopicDetail.label.BanIPAllForum")%></a>
+													</li>
+												<% } %>
+												</ul>
 											</div>
-										</div>
 										<% /*End Popup Menu*/ %>
 									</div>
 								<%   }
 								   }
 								   if(checked > 0){
 								%>
-									<div style="float:left">
+									<div class="FL">
 									<%//uiform.renderChild(postId)
 									   String isChecked = "";
 										 if(checkeds.contains(postId)){
@@ -957,15 +648,12 @@
 										<input onclick="eXo.forum.UIForumPortlet.checkedPost(this);" type="checkbox" class="checkbox" value="false" name="$postId" $isChecked/>
 									</div>
 									<%}  %>
-									<div style="clear:left;"><span></span></div>
 								</div>
-								<div style="clear:both;"><span></span></div>
 								<% } else { %>
-								<div class="PostViewTitle" style="float:left; width:100%;">
-									<div class="PostViewIcon $classIconPost" style="float:left;">$namePost $alert</div>
-									<div class="PostTime" style="float:right; font-size:11px; color:gray;"><%=_ctx.appRes("UITopicDetail.label.Posted");%>:$createdDate</div>
+								<div class="FL PostViewTitleOtherAcc">
+									<div class="PostViewIcon $classIconPost FL">$namePost $alert</div>
+									<div class="PostTime FR"><%=_ctx.appRes("UITopicDetail.label.Posted");%>:$createdDate</div>
 								</div>
-								<div style="clear:left;"><span></span></div>
 								<% } %>
 							</div>
 						<div class="PostContentContainer">
@@ -978,12 +666,12 @@
 						<% } else { %>
 							<div class="PostContentNote">
 						<% } %>
-								<div style="padding-top:8px" id="$idMessage">$message</div>
+								<div id="$idMessage">$message</div>
 							</div>
 							<% if(hasAttachment) {%>
 							<div class="AttachmentContainer">
 								<div class="AttachmentTitle"><%=_ctx.appRes("UITopicDetail.label.Attachments");%>:</div>
-								<div class="AttachmentContent">
+								<div class="AttachmentContent ClearFix">
 								<% for(attachment in attachments) {
 										 String urlFile = uicomponent.getFileSource(attachment) ;
 										 String titleFile = attachment.getName();
@@ -999,31 +687,24 @@
 										%>
 											<div class="Image"><img onclick="eXo.forum.UIForumPortlet.showPicture('$attLink');" class="AttachImage" id="imgView${fileName}" src="$attLink" height="100px;" alt=""/></div> 
 						 					<div class="LabelBox">
-						 						<div class="AttachmentIcon JPGIcon"><span></span></div>
-						 						<a onclick="if(eXo.core.Browser.browserType == 'ie') {<%=uicomponent.event("DownloadAttach");%>; } ajaxRedirect('$urlFile'); return false;" href="javaScript:void(0)" class="AttachmentLabel" title="$titleFile">$fileName</a>
-						 						<div style="clear:left;"><span></span></div>
+						 						<div class="AttachmentIcon JPGIcon"><a onclick="if(eXo.core.Browser.browserType == 'ie') {<%=uicomponent.event("DownloadAttach");%>; } ajaxRedirect('$urlFile'); return false;" href="javaScript:void(0)" class="AttachmentLabel" title="$titleFile">$fileName</a></div>
 						 						<div class="Size"><%=_ctx.appRes(uiformId + ".label.Size");%>: ${size}</div>
 						 						<div class="Action">
 						 							<div class="Icon MaxView" onclick="eXo.forum.UIForumPortlet.showPicture('$attLink');"><%=_ctx.appRes(uiformId + ".action.View");%></div>
-						 							<div class="Icon Download">
-						 								<a onclick="if(eXo.core.Browser.browserType == 'ie') {<%=uicomponent.event("DownloadAttach");%>; } ajaxRedirect('$urlFile'); return false;" href="javaScript: void(0)"><%=_ctx.appRes(uiformId + ".action.Download");%></a>
-					 								</div>
+						 								<a class="Icon Download" onclick="if(eXo.core.Browser.browserType == 'ie') {<%=uicomponent.event("DownloadAttach");%>; } ajaxRedirect('$urlFile'); return false;" href="javaScript: void(0)"><%=_ctx.appRes(uiformId + ".action.Download");%></a>
 						 						</div>
 						 					</div>
-							 				<div style="clear:left;"><span></span></div>
 									<% }else { 
 												String typeFileIcon = typeFile.substring((typeFile.indexOf("/")+1));
 									%>
 										<div class="LabelBox">
-											<div class="AttachmentIcon ${typeFileIcon}Icon"><span></span></div>
-												<a onclick="if(eXo.core.Browser.browserType == 'ie') {<%=uicomponent.event("DownloadAttach");%>; } ajaxRedirect('$urlFile'); return false;" href="javaScript: void(0)">$fileName</a>
-												<div style="clear:left;"><span></span></div>
-												<div class="Size"><%=_ctx.appRes(uiformId + ".label.Size");%>: ${size}</div>
+											<div class="AttachmentIcon ${typeFileIcon}Icon"><a onclick="if(eXo.core.Browser.browserType == 'ie') {<%=uicomponent.event("DownloadAttach");%>; } ajaxRedirect('$urlFile'); return false;" href="javaScript: void(0)">$fileName</a>
+											</div>
+											<div class="Size"><%=_ctx.appRes(uiformId + ".label.Size");%>: ${size}</div>
 										</div>
 									<% } %>
 									</div>
 								<% } %>
-									<div style="clear:left;"><span></span></div>
 								</div>
 							</div>
 							<% } %>
@@ -1035,13 +716,13 @@
 									<div class="Signature">__________________<br/>$signature</div>
 							<%} %>
 						</div>
-							<div class="FootPost" style="margin-bottom:2px;">
-								<div class="ButtonContainer" style="float:right;">
-									<div style="font-size:11px; color:gray; max-width:400px;" align="justify">
+							<div class="FootPost ClearFix">
+								<div class="ClearFix">
+									<div class="ButtonContainer FR">
 										<%	
 											if(!ForumUtils.isEmpty(editBy)) {
 										%>
-												<div><%=_ctx.appRes("UITopicDetail.label.LastEditedBy");%> <span style="color:blue">$editBy</span> <%=_ctx.appRes("UITopicDetail.label.on");%> $editDate</div>
+												<span><%=_ctx.appRes("UITopicDetail.label.LastEditedBy");%> <span style="color:blue">$editBy</span> <%=_ctx.appRes("UITopicDetail.label.on");%> $editDate</span>
 												<%
 													String reason = post.getEditReason() ;
 													if(!ForumUtils.isEmpty(reason)) { 
@@ -1052,10 +733,8 @@
 										<%} %>
 									</div>
 								</div>
-								<div style="clear:right;"><span></span></div>
-								<div><span></span></div>
-								<div class="ButtonContainer" style="float:right;">
-									<div class="UIActionForum">
+								<div class="ButtonContainer FR">
+									<div class="UIActionForum ClearFix">
 									<%
 									if(isShowMenu) {
 										String[] actions = ["Edit", "Delete", "PrivatePost", "Quote"] ; 
@@ -1088,28 +767,20 @@
 											if(isShowAction) {
 									%>
 										<div class="ActionButton">
-											<div class="NormalStyle">
-												<div class="ButtonLeft">
-													<div class="ButtonRight">
-														<div class="ButtonMiddle">
-															<div onclick="$actionLink">
-																<div class="IconButton ${action}PostIcon" title="$title"><span class="LabelIcon"></span>$label</div>
-															</div>
-														</div>
+												<div class="NormalStyle">
+													<div onclick="$actionLink">
+														<div class="IconButton ${action}PostIcon" title="$title">$label</div>
 													</div>
 												</div>
-											</div>
 										</div>
 										<%} else if(isShowPri) {%>
-										<div style="float:left; width:60px; height:1px;"><span></span></div>
+										<div class="FL" style="width:60px; height:1px;"><span></span></div>
 									<%	}
 										} 
 									checked = 1; 
 									} %>
-										<div style="clear:left"><span></span></div>
 									</div>
 								</div>
-								<div style="clear:right;"><span></span></div>
 							</div>
 								
 						</td>
@@ -1134,86 +805,44 @@
 <!-- End PostsInThreadContainer -->
 	<div class="ButtomAndPageListContainer">
 	<%if(isCanReply || isNotLogin) { %>
-		<div class="UIActionForum" style="float:left;">
+		<div class="UIActionForum FL">
 	<% } else { %>
-		<div class="LockActionForum UIActionForum" style="float:left;">
+		<div class="LockActionForum UIActionForum FL">
 	<% } %>
 			<div class="ActionButton">
 				<div class="NormalStyle">
-					<div class="ButtonLeft">
-						<div class="ButtonRight">
-							<div class="ButtonMiddle">
-							<% if(isCanReply) { %>
-									<div onclick="<%=uicomponent.event("AddPost")%>">
-										<div class="IconButton PostReplyIcon">
-											<span class="LabelIcon"><%=_ctx.appRes("UITopicDetail.action.AddPost");%></span>
-										</div>
-									</div>
-							<% } else if(isNotLogin) {  %>
-									<div class="IconButton PostReplyIcon">
-										<span class="LabelIcon">
-											<a href="$linkGest"><%=_ctx.appRes("UITopicDetail.action.AddPost");%></a>
-										</span>
-									</div>
-							<% } else {%>
-									<div class="IconButton LockIcon" title="<%=_ctx.appRes("UITopicDetail.title.NotAddPost");%>">
-										<span class="LabelIcon"><%=_ctx.appRes("UITopicDetail.action.AddPost");%></span>
-									</div>
-							<% } %>
-							</div>
-						</div>
-					</div>
+						<% if(isCanReply) { %>
+								<div class="IconButton PostReplyIcon" onclick="<%=uicomponent.event("AddPost")%>">
+									<%=_ctx.appRes("UITopicDetail.action.AddPost");%>
+								</div>
+						<% } else if(isNotLogin) {  %>
+								<div class="IconButton PostReplyIcon">
+									<a href="$linkGest"><%=_ctx.appRes("UITopicDetail.action.AddPost");%></a>
+								</div>
+						<% } else {%>
+								<div class="IconButton LockIcon" title="<%=_ctx.appRes("UITopicDetail.title.NotAddPost");%>">
+									<%=_ctx.appRes("UITopicDetail.action.AddPost");%>
+								</div>
+						<% } %>
 				</div>
 			</div>
 		</div>
 		<% if(uicomponent.maxPage > 1) { %>
-		<div title="<%=_ctx.appRes("UITopicDetail.title.GoPageNumber");%>" class="GotoPageIcon">
-			<div onclick="eXo.forum.UIForumPortlet.showPopup(this, event);" style="width:20px; height:16px;"><span></span></div>
+		<div title="<%=_ctx.appRes("UITopicDetail.title.GoPageNumber");%>" class="GotoPageIcon ClearFix">
+			<div onclick="eXo.forum.UIForumPortlet.showPopup(this, event);" class="BntGoPage"><span></span></div>
 			<% /*Begin Popup Menu*/ %>
-			<div style="position:relative;">
 				<div id="goPage2" class="UIPopupCategory" style="display:none;">
-					<div class="UIRightClickPopupMenu" style="display:block; left:-75px;">
-						<div class="UIContextMenuContainer">
-							<div class="TopLeftRightClickPopupMenu">
-								<div class="TopRightRightClickPopupMenu">
-									<div class="TopCenterRightClickPopupMenu"><span></span></div>
-								</div>
-							</div>
-							<div class="MiddleLeftRightClickPopupMenu">
-								<div class="MiddleRightRightClickPopupMenu">
-									<div class="UIRightPopupMenuContainer" style="padding:10px 15px;">
-										<div class="InputPage" style="float:left;">
-											<% uicomponent.renderChild(ForumUtils.GOPAGE_ID_B) ; %>
-										</div>
-										<div class="UIActionForum" style="float:left;">
-											<div class="NormalButtom">
-												<div class="ButtonLeft">
-													<div class="ButtonRight">
-														<div class="ButtonMiddle">
-													 		<a href="<%=uicomponent.event("GoNumberPage","2")%>"><%=_ctx.appRes("UIForumPortlet.label.GoPage");%></a>
-														</div>
-													</div>
-												</div>
-											</div>
-										</div>
-										<div style="clear:left;"><span></span></div>
-									</div>
-								</div>
-							</div>
-							<div class="BottomLeftRightClickPopupMenu">
-								<div class="BottomRightRightClickPopupMenu">
-									<div class="BottomCenterRightClickPopupMenu"><span></span></div>
-								</div>
-							</div>
+					<div class="UIRightClickPopupMenu" style="display:block;">
+							<% uicomponent.renderChild(ForumUtils.GOPAGE_ID_B) ; %>
+						<div class="UIActionForum FL">
+							<a class="NormalButtomBT" href="<%=uicomponent.event("GoNumberPage","2")%>"><%=_ctx.appRes("UIForumPortlet.label.GoPage");%></a>
 						</div>
 					</div>
 				</div>
-			</div>
 			<% /*End Popup Menu*/ %>
 		</div>
 		<% } %>
 		<% _ctx.include("app:/templates/forum/webui/UIForumKeepStickPageIterator.gtmpl"); %>
-		<div style="clear:left;"><span></span></div>
 	</div>
 <% if(isCanReply && uicomponent.isShowQuickReply()){ %>
 	<div class="UIAction"> 
@@ -1225,10 +854,9 @@
 							<div class="ForumToolbar">
 								<div class="LeftBar">
 									<div class="RightBar">
-										<div class="CenterBar">
+										<div class="CenterBar ClearFix">
 											<div class="Title"><%=_ctx.appRes("UITopicDetail.title.ForumQuickReply");%></div>
-											<div class="CollapseButton" collapse="<%=_ctx.appRes("UIForumPortlet.label.Collapse");%>" expand="<%=_ctx.appRes("UIForumPortlet.label.Expand");%>" title="<%=_ctx.appRes("UIForumPortlet.label.Collapse");%>" onclick="eXo.forum.UIForumPortlet.expandCollapse(this) ;"><span></span></div>
-											<div style="clear:both;"><span></span></div>
+											<span class="CollapseButton" collapse="<%=_ctx.appRes("UIForumPortlet.label.Collapse");%>" expand="<%=_ctx.appRes("UIForumPortlet.label.Expand");%>" title="<%=_ctx.appRes("UIForumPortlet.label.Collapse");%>" onclick="eXo.forum.UIForumPortlet.expandCollapse(this) ;"></span>
 										</div>
 									</div>
 								</div>
