<assembly xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.1 http://maven.apache.org/xsd/assembly-1.1.1.xsd">
    <id>wiki-archive</id>
    <formats>
    <format>zip</format>
    </formats>
    <includeBaseDirectory>false</includeBaseDirectory>
    <dependencySets>
     <dependencySet>
       <includes>
        <include>org.exoplatform.ks:exo.ks.eXoApplication.wiki.service</include>
        <include>com.google.gwt:gwt-servlet</include>
        <include>com.google.gwt:gwt-user</include>
        <include>org.xwiki.platform:xwiki-web-gwt-wysiwyg-client</include>
        <include>org.apache.pdfbox:fontbox</include>
        <include>javax.validation:validation-api</include>      
        <include>org.hibernate:hibernate-validator</include>
        <include>org.python:jython-standalone</include>
        <include>pygments:pygments</include>
        <include>net.sourceforge.htmlcleaner:htmlcleaner</include>
        <include>org.xwiki.platform:xwiki-core-configuration-api</include>
        <include>org.xwiki.platform:xwiki-core-model</include>
        <include>org.xwiki.platform:xwiki-core-context</include>
        <include>org.xwiki.platform:xwiki-core-component-api</include>
        <include>org.xwiki.platform:xwiki-core-component-default</include>
        <include>org.xwiki.platform:xwiki-core-properties</include>
        <include>org.xwiki.platform:xwiki-core-xml</include>
        <include>org.xwiki.platform:xwiki-core-script</include>
        <include>org.xwiki.platform:xwiki-core-rendering-api</include>
        <include>org.xwiki.platform:xwiki-core-rendering-syntax-wikimodel</include>
        <include>org.xwiki.platform:xwiki-core-rendering-macro-toc</include>
        <include>org.xwiki.platform:xwiki-core-rendering-macro-box</include>
        <include>org.xwiki.platform:xwiki-core-rendering-macro-message</include>
        <include>org.xwiki.platform:xwiki-core-rendering-macro-code</include>
        <include>org.wikimodel:org.wikimodel.wem</include>

        <include>org.suigeneris:jrcs.diff</include>
        <include>org.suigeneris:jrcs.rcs</include>
        <include>ecs:ecs</include>
       </includes>
       <unpack>false</unpack>
       <useTransitiveDependencies>false</useTransitiveDependencies>
       <useTransitiveFiltering>false</useTransitiveFiltering>
       <outputDirectory>lib</outputDirectory>
    </dependencySet>
    <dependencySet>
       <includes>
        <include>org.exoplatform.ks:exo.ks.eXoApplication.wiki.webapp</include> 
       </includes>
       <outputFileNameMapping>wiki.${artifact.extension}</outputFileNameMapping>
       <unpack>false</unpack>
    </dependencySet>
    </dependencySets>
    <fileSets>
      <fileSet>
        <directory>src/main/assembly</directory>
        <outputDirectory>.</outputDirectory>
        <includes>
          <include>INSTALL.txt</include>
        </includes>      
      </fileSet>
    </fileSets>
</assembly>
